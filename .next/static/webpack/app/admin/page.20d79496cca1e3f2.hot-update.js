"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/page",{

/***/ "(app-pages-browser)/./src/app/components/Block.tsx":
/*!**************************************!*\
  !*** ./src/app/components/Block.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ThemeContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ThemeContext */ \"(app-pages-browser)/./src/app/ThemeContext.tsx\");\n/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! xlsx */ \"(app-pages-browser)/./node_modules/xlsx/xlsx.mjs\");\n\nvar _s = $RefreshSig$();\n\n\n\nconst Block = (param)=>{\n    let { initialData, link, onTotalViewersChange, blockId, onShowWarning, onShowEditModal } = param;\n    _s();\n    const { theme } = (0,_ThemeContext__WEBPACK_IMPORTED_MODULE_2__.useTheme)();\n    // Función para cargar estado desde localStorage\n    const loadBlockState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const savedState = localStorage.getItem(\"blockState_\".concat(blockId));\n        if (savedState) {\n            try {\n                const parsed = JSON.parse(savedState);\n                // Limpiar datos muy antiguos (más de 7 días)\n                if (parsed.lastSaved) {\n                    const lastSavedDate = new Date(parsed.lastSaved);\n                    const now = new Date();\n                    const daysDiff = (now.getTime() - lastSavedDate.getTime()) / (1000 * 3600 * 24);\n                    if (daysDiff > 7) {\n                        localStorage.removeItem(\"blockState_\".concat(blockId));\n                        return null;\n                    }\n                }\n                return parsed;\n            } catch (error) {\n                console.error(\"Error parsing saved block state:\", error);\n                localStorage.removeItem(\"blockState_\".concat(blockId));\n                return null;\n            }\n        }\n        return null;\n    }, [\n        blockId\n    ]);\n    // Estado local del bloque con carga desde localStorage\n    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        const savedState = loadBlockState();\n        return (savedState === null || savedState === void 0 ? void 0 : savedState.status) || [];\n    });\n    const [intervalId, setIntervalId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isPaused, setIsPaused] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentOperation, setCurrentOperation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        const savedState = loadBlockState();\n        return (savedState === null || savedState === void 0 ? void 0 : savedState.currentOperation) || 0;\n    });\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        const savedState = loadBlockState();\n        const savedStateValue = (savedState === null || savedState === void 0 ? void 0 : savedState.state) || \"idle\";\n        // Si estaba 'running' antes de recargar, cambiar a 'paused' para evitar problemas\n        return savedStateValue === \"running\" ? \"paused\" : savedStateValue;\n    });\n    const [totalViewers, setTotalViewers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        const savedState = loadBlockState();\n        return (savedState === null || savedState === void 0 ? void 0 : savedState.totalViewers) || 0;\n    });\n    const [blockData, setBlockData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        const savedState = loadBlockState();\n        const data = (savedState === null || savedState === void 0 ? void 0 : savedState.blockData) || initialData;\n        // Asegurar que intervalMinutes tenga un valor por defecto\n        if (!data.intervalMinutes) {\n            data.intervalMinutes = 2; // 2 minutos por defecto\n        }\n        return data;\n    });\n    // Función para guardar estado en localStorage\n    const saveBlockState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const stateToSave = {\n            status,\n            currentOperation,\n            state,\n            totalViewers,\n            blockData,\n            lastSaved: new Date().toISOString()\n        };\n        localStorage.setItem(\"blockState_\".concat(blockId), JSON.stringify(stateToSave));\n    }, [\n        blockId,\n        status,\n        currentOperation,\n        state,\n        totalViewers,\n        blockData\n    ]);\n    // Guardar estado cada vez que cambie algún valor importante\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        saveBlockState();\n    }, [\n        status,\n        currentOperation,\n        state,\n        totalViewers,\n        blockData,\n        saveBlockState\n    ]);\n    // Refs para mantener valores actualizados en el intervalo\n    const intervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastReportedViewers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const stateRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(state);\n    const currentOperationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(currentOperation);\n    const blockDataRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(blockData);\n    const statusRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(status);\n    const totalViewersRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(totalViewers);\n    // Actualizar refs cuando cambian los estados\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        stateRef.current = state;\n    }, [\n        state\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        currentOperationRef.current = currentOperation;\n    }, [\n        currentOperation\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        blockDataRef.current = blockData;\n    }, [\n        blockData\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        statusRef.current = status;\n    }, [\n        status\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        totalViewersRef.current = totalViewers;\n    }, [\n        totalViewers\n    ]);\n    // Efecto para auto-start\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (blockData.autoStart && blockData.startTime && state === \"idle\") {\n            const [hours, minutes] = blockData.startTime.split(\":\").map(Number);\n            const now = new Date();\n            const start = new Date(now.getFullYear(), now.getMonth(), now.getDate(), hours, minutes, 0, 0);\n            const delay = start.getTime() - now.getTime();\n            if (delay > 0) {\n                const timeoutId = setTimeout(()=>startBlock(), delay);\n                return ()=>clearTimeout(timeoutId);\n            }\n        }\n    }, [\n        blockData.autoStart,\n        blockData.startTime,\n        state\n    ]);\n    // Efecto para notificar cambios en totalViewers (optimizado)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (lastReportedViewers.current !== totalViewers) {\n            onTotalViewersChange(blockId, totalViewers);\n            lastReportedViewers.current = totalViewers;\n        }\n    }, [\n        totalViewers,\n        blockId,\n        onTotalViewersChange\n    ]);\n    // Cleanup al desmontar y antes de cerrar la ventana\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleBeforeUnload = ()=>{\n            if (intervalRef.current) {\n                clearInterval(intervalRef.current);\n            }\n            // Guardar estado final antes de cerrar\n            const finalState = {\n                status: statusRef.current,\n                currentOperation: currentOperationRef.current,\n                state: stateRef.current === \"running\" ? \"paused\" : stateRef.current,\n                totalViewers: totalViewersRef.current,\n                blockData: blockDataRef.current,\n                lastSaved: new Date().toISOString()\n            };\n            localStorage.setItem(\"blockState_\".concat(blockId), JSON.stringify(finalState));\n        };\n        window.addEventListener(\"beforeunload\", handleBeforeUnload);\n        return ()=>{\n            if (intervalRef.current) {\n                clearInterval(intervalRef.current);\n            }\n            window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n        };\n    }, [\n        blockId\n    ]);\n    const getServiceDuration = (serviceId)=>{\n        switch(serviceId){\n            case 336:\n                return 120;\n            case 337:\n                return 150;\n            case 334:\n                return 60;\n            case 335:\n                return 90;\n            case 338:\n                return 180;\n            case 459:\n                return 240;\n            case 460:\n                return 360;\n            case 657:\n                return 480;\n            default:\n                return 0;\n        }\n    };\n    const generateExcel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        // Crear el resumen para el Excel\n        const currentStatus = statusRef.current;\n        const currentBlockData = blockDataRef.current;\n        const summary = currentStatus.map((statusItem)=>{\n            var _statusItem_details_res, _statusItem_details;\n            return {\n                \"Estado\": statusItem.status,\n                \"Mensaje\": statusItem.message,\n                \"Timestamp\": statusItem.timestamp,\n                \"Order ID\": statusItem.orderId,\n                \"Order Status\": statusItem.orderStatus,\n                \"Duraci\\xf3n (minutos)\": statusItem.duration,\n                \"Cantidad de Viewers\": statusItem.count,\n                \"Costo de la Operaci\\xf3n\": ((_statusItem_details = statusItem.details) === null || _statusItem_details === void 0 ? void 0 : (_statusItem_details_res = _statusItem_details.res) === null || _statusItem_details_res === void 0 ? void 0 : _statusItem_details_res.sum) || 0,\n                ...statusItem.details\n            };\n        });\n        // Generar intervalos de tiempo desde las 10:25 AM hasta las 23:00 PM\n        const startTime = new Date(\"1970-01-01T10:25:00Z\");\n        const endTime = new Date(\"1970-01-01T23:00:00Z\");\n        const timeIntervals = [];\n        let currentTime = new Date(startTime);\n        while(currentTime <= endTime){\n            timeIntervals.push({\n                Hora: currentTime.toISOString().substr(11, 5)\n            });\n            currentTime = new Date(currentTime.getTime() + 60000);\n        }\n        const costRow = {\n            Hora: \"Costo\"\n        };\n        currentStatus.forEach((statusItem)=>{\n            if (statusItem.status === \"success\" && statusItem.count && statusItem.timestamp) {\n                // Intentar parsear el timestamp de manera más robusta\n                let startTimeString;\n                try {\n                    // Si el timestamp está en formato HH:MM:SS, extraer solo HH:MM\n                    const timeMatch = statusItem.timestamp.match(/(\\d{1,2}):(\\d{2}):(\\d{2})/);\n                    if (timeMatch) {\n                        const hours = timeMatch[1].padStart(2, \"0\");\n                        const minutes = timeMatch[2];\n                        startTimeString = \"\".concat(hours, \":\").concat(minutes);\n                    } else {\n                        // Si no se puede parsear, usar un valor por defecto\n                        console.warn(\"No se pudo parsear el timestamp:\", statusItem.timestamp);\n                        startTimeString = \"10:25\"; // Valor por defecto\n                    }\n                } catch (error) {\n                    console.error(\"Error parseando timestamp:\", statusItem.timestamp, error);\n                    startTimeString = \"10:25\"; // Valor por defecto\n                }\n                const duration = statusItem.duration || 0;\n                const orderIdColumn = \"Operaci\\xf3n \".concat(statusItem.orderId);\n                if (!(orderIdColumn in costRow)) {\n                    var _statusItem_details_res, _statusItem_details;\n                    costRow[orderIdColumn] = ((_statusItem_details = statusItem.details) === null || _statusItem_details === void 0 ? void 0 : (_statusItem_details_res = _statusItem_details.res) === null || _statusItem_details_res === void 0 ? void 0 : _statusItem_details_res.sum) || 0;\n                }\n                timeIntervals.forEach((interval)=>{\n                    if (!(orderIdColumn in interval)) {\n                        interval[orderIdColumn] = \"\";\n                    }\n                });\n                const startIndex = timeIntervals.findIndex((entry)=>entry.Hora === startTimeString);\n                if (startIndex !== -1) {\n                    for(let i = 0; i < duration && startIndex + i < timeIntervals.length; i++){\n                        timeIntervals[startIndex + i][orderIdColumn] = statusItem.count;\n                    }\n                }\n            }\n        });\n        const allRows = [\n            costRow,\n            ...timeIntervals\n        ];\n        const wsSummary = xlsx__WEBPACK_IMPORTED_MODULE_3__.utils.json_to_sheet(summary);\n        const wsViewers = xlsx__WEBPACK_IMPORTED_MODULE_3__.utils.json_to_sheet(allRows);\n        const wb = xlsx__WEBPACK_IMPORTED_MODULE_3__.utils.book_new();\n        xlsx__WEBPACK_IMPORTED_MODULE_3__.utils.book_append_sheet(wb, wsSummary, \"Resumen de Operaciones\");\n        xlsx__WEBPACK_IMPORTED_MODULE_3__.utils.book_append_sheet(wb, wsViewers, \"Viewers por Minuto\");\n        xlsx__WEBPACK_IMPORTED_MODULE_3__.writeFile(wb, \"\".concat(currentBlockData.title, \".xlsx\"));\n    }, []);\n    const handleApiCall = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        // Verificar condiciones usando refs para valores actuales\n        if (!link || stateRef.current !== \"running\") {\n            console.log(\"\".concat(blockDataRef.current.title, \": No ejecutando API call. Link: \").concat(link, \", State: \").concat(stateRef.current));\n            return;\n        }\n        try {\n            var _data_res, _data_res1;\n            const currentBlockData = blockDataRef.current;\n            const currentOpNum = currentOperationRef.current;\n            const { count, decrement, serviceId, operationType } = currentBlockData;\n            // Calcula la cantidad para la operación actual\n            const operationCount = operationType === \"add\" ? count + (decrement || 0) * currentOpNum : count - (decrement || 0) * currentOpNum;\n            console.log(\"\".concat(currentBlockData.title, \": Iniciando operaci\\xf3n \").concat(currentOpNum + 1, \" con \").concat(operationCount, \" viewers\"));\n            const response = await fetch(\"/api/proxy?service_id=\".concat(serviceId, \"&count=\").concat(operationCount, \"&link=\").concat(link));\n            const data = await response.json();\n            // Generar timestamp en formato consistente HH:MM:SS\n            const now = new Date();\n            const timestamp = now.toTimeString().split(\" \")[0]; // Formato HH:MM:SS\n            const duration = getServiceDuration(serviceId);\n            // Calcular hora de finalización estimada\n            const startTime = now.toISOString();\n            const estimatedEndTime = new Date(now.getTime() + duration * 60 * 1000).toISOString();\n            console.log(\"\".concat(currentBlockData.title, \", Operation \").concat(currentOpNum + 1, \":\"), data);\n            const newStatus = {\n                status: data.error ? \"error\" : \"success\",\n                message: data.error ? \"Error en la operaci\\xf3n\" : \"Operaci\\xf3n exitosa\",\n                details: data,\n                timestamp,\n                orderId: (_data_res = data.res) === null || _data_res === void 0 ? void 0 : _data_res.order_id,\n                duration,\n                count: operationCount,\n                serviceId,\n                cost: ((_data_res1 = data.res) === null || _data_res1 === void 0 ? void 0 : _data_res1.sum) || 0,\n                startTime,\n                estimatedEndTime\n            };\n            setStatus((prev)=>[\n                    ...prev,\n                    newStatus\n                ]);\n            // Guardar en historial global inmediatamente\n            saveToGlobalHistory(newStatus);\n            // Actualizar el total de espectadores\n            if (newStatus.status === \"success\") {\n                setTotalViewers((prev)=>prev + operationCount);\n            }\n            const nextOperation = currentOpNum + 1;\n            setCurrentOperation(nextOperation);\n            if (nextOperation >= currentBlockData.totalOperations) {\n                if (intervalRef.current) {\n                    clearInterval(intervalRef.current);\n                    intervalRef.current = null;\n                    setIntervalId(null);\n                }\n                setState(\"completed\");\n                stateRef.current = \"completed\";\n                // Notificación de bloque completado\n                if ( true && \"Notification\" in window && Notification.permission === \"granted\") {\n                    new Notification(\"\\uD83C\\uDF89 \".concat(currentBlockData.title, \" Completado\"), {\n                        body: \"El bloque se ha completado exitosamente con \".concat(totalViewersRef.current, \" viewers totales\"),\n                        icon: \"/favicon.ico\"\n                    });\n                }\n                // Auto-generar Excel al completar\n                setTimeout(()=>generateExcel(), 1000);\n            }\n        } catch (error) {\n            console.error(\"\".concat(blockDataRef.current.title, \", Operation \").concat(currentOperationRef.current + 1, \":\"), error);\n            const now = new Date();\n            const newStatus = {\n                status: \"error\",\n                message: \"Error en la operaci\\xf3n\",\n                details: error,\n                timestamp: now.toTimeString().split(\" \")[0],\n                duration: 0,\n                cost: 0,\n                startTime: now.toISOString(),\n                estimatedEndTime: now.toISOString()\n            };\n            setStatus((prev)=>[\n                    ...prev,\n                    newStatus\n                ]);\n            // Guardar en historial global inmediatamente\n            saveToGlobalHistory(newStatus);\n            const nextOperation = currentOperationRef.current + 1;\n            setCurrentOperation(nextOperation);\n            if (nextOperation >= blockDataRef.current.totalOperations) {\n                if (intervalRef.current) {\n                    clearInterval(intervalRef.current);\n                    intervalRef.current = null;\n                    setIntervalId(null);\n                }\n                setState(\"completed\");\n                stateRef.current = \"completed\";\n                // Notificación de bloque completado (para casos de error también)\n                if ( true && \"Notification\" in window && Notification.permission === \"granted\") {\n                    new Notification(\"\\uD83C\\uDFC1 \".concat(blockDataRef.current.title, \" Finalizado\"), {\n                        body: \"El bloque ha finalizado (con errores) - Total viewers: \".concat(totalViewersRef.current),\n                        icon: \"/favicon.ico\"\n                    });\n                }\n                setTimeout(()=>generateExcel(), 1000);\n            }\n        }\n    }, [\n        link,\n        generateExcel\n    ]);\n    const startBlock = ()=>{\n        if (state === \"running\") return;\n        setIsPaused(false);\n        setState(\"running\");\n        // Actualizar el ref inmediatamente para que handleApiCall lo detecte\n        stateRef.current = \"running\";\n        // Enviar la primera operación inmediatamente\n        handleApiCall();\n        // Configurar el intervalo para las siguientes operaciones usando el intervalo personalizado\n        const intervalMs = (blockDataRef.current.intervalMinutes || 2) * 60 * 1000; // Convertir minutos a millisegundos\n        const newIntervalId = setInterval(()=>handleApiCall(), intervalMs);\n        intervalRef.current = newIntervalId;\n        setIntervalId(newIntervalId);\n    };\n    const pauseBlock = ()=>{\n        if (intervalRef.current) {\n            clearInterval(intervalRef.current);\n            intervalRef.current = null;\n            setIntervalId(null);\n            setIsPaused(true);\n            setState(\"paused\");\n            // Actualizar el ref inmediatamente\n            stateRef.current = \"paused\";\n        }\n    };\n    const resumeBlock = ()=>{\n        setIsPaused(false);\n        setState(\"running\");\n        // Actualizar el ref inmediatamente\n        stateRef.current = \"running\";\n        // Llamar a la API inmediatamente después de reanudar\n        handleApiCall();\n        // Reiniciar el intervalo usando el intervalo personalizado\n        const intervalMs = (blockDataRef.current.intervalMinutes || 2) * 60 * 1000;\n        const newIntervalId = setInterval(handleApiCall, intervalMs);\n        intervalRef.current = newIntervalId;\n        setIntervalId(newIntervalId);\n    };\n    const finalizeBlock = ()=>{\n        if (intervalRef.current) {\n            clearInterval(intervalRef.current);\n            intervalRef.current = null;\n            setIntervalId(null);\n        }\n        if (state !== \"completed\") {\n            setState(\"completed\");\n            stateRef.current = \"completed\";\n            // Notificación de finalización manual\n            if ( true && \"Notification\" in window && Notification.permission === \"granted\") {\n                new Notification(\"\\uD83C\\uDFC1 \".concat(blockData.title, \" Finalizado Manualmente\"), {\n                    body: \"El bloque fue finalizado manualmente con \".concat(totalViewers, \" viewers totales\"),\n                    icon: \"/favicon.ico\"\n                });\n            }\n            generateExcel();\n        }\n        setBlockData((prev)=>({\n                ...prev,\n                autoStart: false\n            }));\n    };\n    const resetBlock = ()=>{\n        // CORRIGIDO: No guardamos las operaciones nuevamente porque ya fueron guardadas\n        // cuando se ejecutaron originalmente en handleApiCall (líneas 341 y 377)\n        // Registrar el reset del bloque con las operaciones que se van a perder\n        saveBlockReset();\n        if (intervalRef.current) {\n            clearInterval(intervalRef.current);\n            intervalRef.current = null;\n            setIntervalId(null);\n        }\n        setStatus([]);\n        setIsPaused(false);\n        setCurrentOperation(0);\n        setState(\"idle\");\n        stateRef.current = \"idle\";\n        setTotalViewers(0);\n        setBlockData((prev)=>({\n                ...prev,\n                autoStart: false,\n                startTime: \"\"\n            }));\n        // Limpiar estado guardado del localStorage\n        localStorage.removeItem(\"blockState_\".concat(blockId));\n    };\n    const handleEditModal = ()=>{\n        onShowEditModal(blockId, blockData);\n    };\n    // Función para actualizar blockData desde el componente padre\n    const updateBlockData = (newData)=>{\n        setBlockData(newData);\n    };\n    // Exponer funciones al componente padre mediante efectos\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        window[\"updateBlockData_\".concat(blockId)] = updateBlockData;\n        window[\"finalizeBlock_\".concat(blockId)] = finalizeBlock;\n        window[\"resetBlock_\".concat(blockId)] = resetBlock;\n        return ()=>{\n            delete window[\"updateBlockData_\".concat(blockId)];\n            delete window[\"finalizeBlock_\".concat(blockId)];\n            delete window[\"resetBlock_\".concat(blockId)];\n        };\n    }, [\n        blockId\n    ]);\n    // Función para guardar operación en historial permanente\n    const saveToGlobalHistory = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((operation)=>{\n        const globalHistoryKey = \"globalOperationsHistory\";\n        const existingHistory = localStorage.getItem(globalHistoryKey);\n        let history = [];\n        if (existingHistory) {\n            try {\n                history = JSON.parse(existingHistory);\n            } catch (error) {\n                console.error(\"Error parsing global history:\", error);\n                history = [];\n            }\n        }\n        const historicalOperation = {\n            ...operation,\n            blockId,\n            blockTitle: blockData.title,\n            savedAt: new Date().toISOString()\n        };\n        history.push(historicalOperation);\n        // Mantener solo las últimas 1000 operaciones para evitar problemas de memoria\n        if (history.length > 1000) {\n            history = history.slice(-1000);\n        }\n        localStorage.setItem(globalHistoryKey, JSON.stringify(history));\n    }, [\n        blockId,\n        blockData.title\n    ]);\n    // Función para registrar reset del bloque\n    const saveBlockReset = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const resetHistoryKey = \"blockResetHistory\";\n        const existingResets = localStorage.getItem(resetHistoryKey);\n        let resets = [];\n        if (existingResets) {\n            try {\n                resets = JSON.parse(existingResets);\n            } catch (error) {\n                console.error(\"Error parsing reset history:\", error);\n                resets = [];\n            }\n        }\n        const resetRecord = {\n            blockId,\n            blockTitle: blockData.title,\n            resetAt: new Date().toISOString(),\n            operationsLost: status.length,\n            viewersLost: totalViewers\n        };\n        resets.push(resetRecord);\n        // Mantener solo los últimos 100 resets\n        if (resets.length > 100) {\n            resets = resets.slice(-100);\n        }\n        localStorage.setItem(resetHistoryKey, JSON.stringify(resets));\n    }, [\n        blockId,\n        blockData.title,\n        status.length,\n        totalViewers\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"block \".concat(theme),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                className: \"block-title\",\n                children: blockData.title\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                lineNumber: 617,\n                columnNumber: 7\n            }, undefined),\n            blockData.autoStart && blockData.startTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"auto-start-info\",\n                children: [\n                    \"⏰ Inicio autom\\xe1tico: \",\n                    blockData.startTime\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                lineNumber: 620,\n                columnNumber: 9\n            }, undefined),\n            (state === \"paused\" || state === \"completed\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: generateExcel,\n                className: \"download-icon\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"icon-download\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                    lineNumber: 627,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                lineNumber: 626,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"status\",\n                children: Array.from({\n                    length: blockData.totalOperations\n                }).map((_, statusIndex)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"status-item\",\n                        children: [\n                            \"Operaci\\xf3n \".concat(statusIndex + 1, \": \"),\n                            status[statusIndex] ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    status[statusIndex].status === \"success\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"status-success\",\n                                        children: \"✅\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                                        lineNumber: 638,\n                                        columnNumber: 19\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"status-error\",\n                                        children: \"❌\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                                        lineNumber: 640,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"timestamp\",\n                                        children: status[statusIndex].timestamp\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                                        lineNumber: 642,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    status[statusIndex].orderStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"order-status\",\n                                        children: status[statusIndex].orderStatus\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                                        lineNumber: 644,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"status-pending\",\n                                children: \"⏳\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                                lineNumber: 648,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, statusIndex, true, {\n                        fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                        lineNumber: 633,\n                        columnNumber: 11\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                lineNumber: 631,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"block-controls\",\n                children: [\n                    state === \"idle\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: startBlock,\n                        className: \"start-button\",\n                        children: \"▶️ Iniciar\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                        lineNumber: 656,\n                        columnNumber: 11\n                    }, undefined),\n                    state === \"running\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: pauseBlock,\n                        className: \"pause-button\",\n                        children: \"⏸️ Pausar\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                        lineNumber: 662,\n                        columnNumber: 11\n                    }, undefined),\n                    state === \"paused\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: resumeBlock,\n                                className: \"resume-button\",\n                                children: \"▶️ Reanudar\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                                lineNumber: 669,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>onShowWarning(blockId, \"finalizar\"),\n                                className: \"finalize-button\",\n                                children: \"\\uD83C\\uDFC1 Finalizar\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                                lineNumber: 672,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>onShowWarning(blockId, \"reiniciar\"),\n                                className: \"reset-button\",\n                                children: \"\\uD83D\\uDD04 Reiniciar\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                                lineNumber: 675,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true),\n                    state === \"completed\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"completed-message\",\n                                children: \"✅ Bloque finalizado\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                                lineNumber: 683,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>onShowWarning(blockId, \"reiniciar\"),\n                                className: \"reset-button\",\n                                children: \"\\uD83D\\uDD04 Reiniciar\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                                lineNumber: 684,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleEditModal,\n                        className: \"edit-button\",\n                        children: \"✏️ Editar\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                        lineNumber: 691,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                lineNumber: 654,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"total-viewers\",\n                children: [\n                    \"\\uD83D\\uDC65 \",\n                    totalViewers\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n                lineNumber: 696,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\German\\\\Desktop\\\\Dashboard Viewers- LaCasa\\\\youtube-viewers-lacasa\\\\src\\\\app\\\\components\\\\Block.tsx\",\n        lineNumber: 616,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Block, \"HJupXQZux5V65CPIgcfAWLRZYRU=\", false, function() {\n    return [\n        _ThemeContext__WEBPACK_IMPORTED_MODULE_2__.useTheme\n    ];\n});\n_c = Block;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Block);\nvar _c;\n$RefreshReg$(_c, \"Block\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY29tcG9uZW50cy9CbG9jay50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0U7QUFDN0I7QUFDZDtBQXNDN0IsTUFBTU8sUUFBOEI7UUFBQyxFQUFFQyxXQUFXLEVBQUVDLElBQUksRUFBRUMsb0JBQW9CLEVBQUVDLE9BQU8sRUFBRUMsYUFBYSxFQUFFQyxlQUFlLEVBQUU7O0lBQ3ZILE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdULHVEQUFRQTtJQUUxQixnREFBZ0Q7SUFDaEQsTUFBTVUsaUJBQWlCWCxrREFBV0EsQ0FBQztRQUNqQyxNQUFNWSxhQUFhQyxhQUFhQyxPQUFPLENBQUMsY0FBc0IsT0FBUlA7UUFDdEQsSUFBSUssWUFBWTtZQUNkLElBQUk7Z0JBQ0YsTUFBTUcsU0FBU0MsS0FBS0MsS0FBSyxDQUFDTDtnQkFDMUIsNkNBQTZDO2dCQUM3QyxJQUFJRyxPQUFPRyxTQUFTLEVBQUU7b0JBQ3BCLE1BQU1DLGdCQUFnQixJQUFJQyxLQUFLTCxPQUFPRyxTQUFTO29CQUMvQyxNQUFNRyxNQUFNLElBQUlEO29CQUNoQixNQUFNRSxXQUFXLENBQUNELElBQUlFLE9BQU8sS0FBS0osY0FBY0ksT0FBTyxFQUFDLElBQU0sUUFBTyxPQUFPLEVBQUM7b0JBQzdFLElBQUlELFdBQVcsR0FBRzt3QkFDaEJULGFBQWFXLFVBQVUsQ0FBQyxjQUFzQixPQUFSakI7d0JBQ3RDLE9BQU87b0JBQ1Q7Z0JBQ0Y7Z0JBQ0EsT0FBT1E7WUFDVCxFQUFFLE9BQU9VLE9BQU87Z0JBQ2RDLFFBQVFELEtBQUssQ0FBQyxvQ0FBb0NBO2dCQUNsRFosYUFBYVcsVUFBVSxDQUFDLGNBQXNCLE9BQVJqQjtnQkFDdEMsT0FBTztZQUNUO1FBQ0Y7UUFDQSxPQUFPO0lBQ1QsR0FBRztRQUFDQTtLQUFRO0lBRVosdURBQXVEO0lBQ3ZELE1BQU0sQ0FBQ29CLFFBQVFDLFVBQVUsR0FBRy9CLCtDQUFRQSxDQUFnQjtRQUNsRCxNQUFNZSxhQUFhRDtRQUNuQixPQUFPQyxDQUFBQSx1QkFBQUEsaUNBQUFBLFdBQVllLE1BQU0sS0FBSSxFQUFFO0lBQ2pDO0lBRUEsTUFBTSxDQUFDRSxZQUFZQyxjQUFjLEdBQUdqQywrQ0FBUUEsQ0FBd0I7SUFDcEUsTUFBTSxDQUFDa0MsVUFBVUMsWUFBWSxHQUFHbkMsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDb0Msa0JBQWtCQyxvQkFBb0IsR0FBR3JDLCtDQUFRQSxDQUFDO1FBQ3ZELE1BQU1lLGFBQWFEO1FBQ25CLE9BQU9DLENBQUFBLHVCQUFBQSxpQ0FBQUEsV0FBWXFCLGdCQUFnQixLQUFJO0lBQ3pDO0lBRUEsTUFBTSxDQUFDRSxPQUFPQyxTQUFTLEdBQUd2QywrQ0FBUUEsQ0FBOEM7UUFDOUUsTUFBTWUsYUFBYUQ7UUFDbkIsTUFBTTBCLGtCQUFrQnpCLENBQUFBLHVCQUFBQSxpQ0FBQUEsV0FBWXVCLEtBQUssS0FBSTtRQUM3QyxrRkFBa0Y7UUFDbEYsT0FBT0Usb0JBQW9CLFlBQVksV0FBV0E7SUFDcEQ7SUFFQSxNQUFNLENBQUNDLGNBQWNDLGdCQUFnQixHQUFHMUMsK0NBQVFBLENBQUM7UUFDL0MsTUFBTWUsYUFBYUQ7UUFDbkIsT0FBT0MsQ0FBQUEsdUJBQUFBLGlDQUFBQSxXQUFZMEIsWUFBWSxLQUFJO0lBQ3JDO0lBRUEsTUFBTSxDQUFDRSxXQUFXQyxhQUFhLEdBQUc1QywrQ0FBUUEsQ0FBWTtRQUNwRCxNQUFNZSxhQUFhRDtRQUNuQixNQUFNK0IsT0FBTzlCLENBQUFBLHVCQUFBQSxpQ0FBQUEsV0FBWTRCLFNBQVMsS0FBSXBDO1FBQ3RDLDBEQUEwRDtRQUMxRCxJQUFJLENBQUNzQyxLQUFLQyxlQUFlLEVBQUU7WUFDekJELEtBQUtDLGVBQWUsR0FBRyxHQUFHLHdCQUF3QjtRQUNwRDtRQUNBLE9BQU9EO0lBQ1Q7SUFFQSw4Q0FBOEM7SUFDOUMsTUFBTUUsaUJBQWlCNUMsa0RBQVdBLENBQUM7UUFDakMsTUFBTTZDLGNBQWM7WUFDbEJsQjtZQUNBTTtZQUNBRTtZQUNBRztZQUNBRTtZQUNBdEIsV0FBVyxJQUFJRSxPQUFPMEIsV0FBVztRQUNuQztRQUNBakMsYUFBYWtDLE9BQU8sQ0FBQyxjQUFzQixPQUFSeEMsVUFBV1MsS0FBS2dDLFNBQVMsQ0FBQ0g7SUFDL0QsR0FBRztRQUFDdEM7UUFBU29CO1FBQVFNO1FBQWtCRTtRQUFPRztRQUFjRTtLQUFVO0lBRXRFLDREQUE0RDtJQUM1RDFDLGdEQUFTQSxDQUFDO1FBQ1I4QztJQUNGLEdBQUc7UUFBQ2pCO1FBQVFNO1FBQWtCRTtRQUFPRztRQUFjRTtRQUFXSTtLQUFlO0lBRTdFLDBEQUEwRDtJQUMxRCxNQUFNSyxjQUFjbEQsNkNBQU1BLENBQXdCO0lBQ2xELE1BQU1tRCxzQkFBc0JuRCw2Q0FBTUEsQ0FBUztJQUMzQyxNQUFNb0QsV0FBV3BELDZDQUFNQSxDQUFDb0M7SUFDeEIsTUFBTWlCLHNCQUFzQnJELDZDQUFNQSxDQUFDa0M7SUFDbkMsTUFBTW9CLGVBQWV0RCw2Q0FBTUEsQ0FBQ3lDO0lBQzVCLE1BQU1jLFlBQVl2RCw2Q0FBTUEsQ0FBQzRCO0lBQ3pCLE1BQU00QixrQkFBa0J4RCw2Q0FBTUEsQ0FBQ3VDO0lBRS9CLDZDQUE2QztJQUM3Q3hDLGdEQUFTQSxDQUFDO1FBQ1JxRCxTQUFTSyxPQUFPLEdBQUdyQjtJQUNyQixHQUFHO1FBQUNBO0tBQU07SUFFVnJDLGdEQUFTQSxDQUFDO1FBQ1JzRCxvQkFBb0JJLE9BQU8sR0FBR3ZCO0lBQ2hDLEdBQUc7UUFBQ0E7S0FBaUI7SUFFckJuQyxnREFBU0EsQ0FBQztRQUNSdUQsYUFBYUcsT0FBTyxHQUFHaEI7SUFDekIsR0FBRztRQUFDQTtLQUFVO0lBRWQxQyxnREFBU0EsQ0FBQztRQUNSd0QsVUFBVUUsT0FBTyxHQUFHN0I7SUFDdEIsR0FBRztRQUFDQTtLQUFPO0lBRVg3QixnREFBU0EsQ0FBQztRQUNSeUQsZ0JBQWdCQyxPQUFPLEdBQUdsQjtJQUM1QixHQUFHO1FBQUNBO0tBQWE7SUFFakIseUJBQXlCO0lBQ3pCeEMsZ0RBQVNBLENBQUM7UUFDUixJQUFJMEMsVUFBVWlCLFNBQVMsSUFBSWpCLFVBQVVrQixTQUFTLElBQUl2QixVQUFVLFFBQVE7WUFDbEUsTUFBTSxDQUFDd0IsT0FBT0MsUUFBUSxHQUFHcEIsVUFBVWtCLFNBQVMsQ0FBQ0csS0FBSyxDQUFDLEtBQUtDLEdBQUcsQ0FBQ0M7WUFDNUQsTUFBTTFDLE1BQU0sSUFBSUQ7WUFDaEIsTUFBTTRDLFFBQVEsSUFBSTVDLEtBQUtDLElBQUk0QyxXQUFXLElBQUk1QyxJQUFJNkMsUUFBUSxJQUFJN0MsSUFBSThDLE9BQU8sSUFBSVIsT0FBT0MsU0FBUyxHQUFHO1lBQzVGLE1BQU1RLFFBQVFKLE1BQU16QyxPQUFPLEtBQUtGLElBQUlFLE9BQU87WUFFM0MsSUFBSTZDLFFBQVEsR0FBRztnQkFDYixNQUFNQyxZQUFZQyxXQUFXLElBQU1DLGNBQWNIO2dCQUNqRCxPQUFPLElBQU1JLGFBQWFIO1lBQzVCO1FBQ0Y7SUFDRixHQUFHO1FBQUM3QixVQUFVaUIsU0FBUztRQUFFakIsVUFBVWtCLFNBQVM7UUFBRXZCO0tBQU07SUFFcEQsNkRBQTZEO0lBQzdEckMsZ0RBQVNBLENBQUM7UUFDUixJQUFJb0Qsb0JBQW9CTSxPQUFPLEtBQUtsQixjQUFjO1lBQ2hEaEMscUJBQXFCQyxTQUFTK0I7WUFDOUJZLG9CQUFvQk0sT0FBTyxHQUFHbEI7UUFDaEM7SUFDRixHQUFHO1FBQUNBO1FBQWMvQjtRQUFTRDtLQUFxQjtJQUVoRCxvREFBb0Q7SUFDcERSLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTTJFLHFCQUFxQjtZQUN6QixJQUFJeEIsWUFBWU8sT0FBTyxFQUFFO2dCQUN2QmtCLGNBQWN6QixZQUFZTyxPQUFPO1lBQ25DO1lBQ0EsdUNBQXVDO1lBQ3ZDLE1BQU1tQixhQUFhO2dCQUNqQmhELFFBQVEyQixVQUFVRSxPQUFPO2dCQUN6QnZCLGtCQUFrQm1CLG9CQUFvQkksT0FBTztnQkFDN0NyQixPQUFPZ0IsU0FBU0ssT0FBTyxLQUFLLFlBQVksV0FBV0wsU0FBU0ssT0FBTztnQkFDbkVsQixjQUFjaUIsZ0JBQWdCQyxPQUFPO2dCQUNyQ2hCLFdBQVdhLGFBQWFHLE9BQU87Z0JBQy9CdEMsV0FBVyxJQUFJRSxPQUFPMEIsV0FBVztZQUNuQztZQUNBakMsYUFBYWtDLE9BQU8sQ0FBQyxjQUFzQixPQUFSeEMsVUFBV1MsS0FBS2dDLFNBQVMsQ0FBQzJCO1FBQy9EO1FBRUFDLE9BQU9DLGdCQUFnQixDQUFDLGdCQUFnQko7UUFFeEMsT0FBTztZQUNMLElBQUl4QixZQUFZTyxPQUFPLEVBQUU7Z0JBQ3ZCa0IsY0FBY3pCLFlBQVlPLE9BQU87WUFDbkM7WUFDQW9CLE9BQU9FLG1CQUFtQixDQUFDLGdCQUFnQkw7UUFDN0M7SUFDRixHQUFHO1FBQUNsRTtLQUFRO0lBRVosTUFBTXdFLHFCQUFxQixDQUFDQztRQUMxQixPQUFRQTtZQUNOLEtBQUs7Z0JBQUssT0FBTztZQUNqQixLQUFLO2dCQUFLLE9BQU87WUFDakIsS0FBSztnQkFBSyxPQUFPO1lBQ2pCLEtBQUs7Z0JBQUssT0FBTztZQUNqQixLQUFLO2dCQUFLLE9BQU87WUFDakIsS0FBSztnQkFBSyxPQUFPO1lBQ2pCLEtBQUs7Z0JBQUssT0FBTztZQUNqQixLQUFLO2dCQUFLLE9BQU87WUFDakI7Z0JBQVMsT0FBTztRQUNsQjtJQUNGO0lBRUEsTUFBTUMsZ0JBQWdCakYsa0RBQVdBLENBQUM7UUFDaEMsaUNBQWlDO1FBQ2pDLE1BQU1rRixnQkFBZ0I1QixVQUFVRSxPQUFPO1FBQ3ZDLE1BQU0yQixtQkFBbUI5QixhQUFhRyxPQUFPO1FBRTdDLE1BQU00QixVQUFVRixjQUFjcEIsR0FBRyxDQUFDLENBQUN1QjtnQkFRUkEseUJBQUFBO21CQVJ3QjtnQkFDakQsVUFBVUEsV0FBVzFELE1BQU07Z0JBQzNCLFdBQVcwRCxXQUFXQyxPQUFPO2dCQUM3QixhQUFhRCxXQUFXRSxTQUFTO2dCQUNqQyxZQUFZRixXQUFXRyxPQUFPO2dCQUM5QixnQkFBZ0JILFdBQVdJLFdBQVc7Z0JBQ3RDLHlCQUFzQkosV0FBV0ssUUFBUTtnQkFDekMsdUJBQXVCTCxXQUFXTSxLQUFLO2dCQUN2Qyw0QkFBeUJOLEVBQUFBLHNCQUFBQSxXQUFXTyxPQUFPLGNBQWxCUCwyQ0FBQUEsMEJBQUFBLG9CQUFvQlEsR0FBRyxjQUF2QlIsOENBQUFBLHdCQUF5QlMsR0FBRyxLQUFJO2dCQUN6RCxHQUFHVCxXQUFXTyxPQUFPO1lBQ3ZCOztRQUVBLHFFQUFxRTtRQUNyRSxNQUFNbEMsWUFBWSxJQUFJdEMsS0FBSztRQUMzQixNQUFNMkUsVUFBVSxJQUFJM0UsS0FBSztRQUN6QixNQUFNNEUsZ0JBQW9FLEVBQUU7UUFFNUUsSUFBSUMsY0FBYyxJQUFJN0UsS0FBS3NDO1FBRTNCLE1BQU91QyxlQUFlRixRQUFTO1lBQzdCQyxjQUFjRSxJQUFJLENBQUM7Z0JBQUVDLE1BQU1GLFlBQVluRCxXQUFXLEdBQUdzRCxNQUFNLENBQUMsSUFBSTtZQUFHO1lBQ25FSCxjQUFjLElBQUk3RSxLQUFLNkUsWUFBWTFFLE9BQU8sS0FBSztRQUNqRDtRQUVBLE1BQU04RSxVQUE0RDtZQUFFRixNQUFNO1FBQVE7UUFFbEZqQixjQUFjb0IsT0FBTyxDQUFDLENBQUNqQjtZQUNyQixJQUFJQSxXQUFXMUQsTUFBTSxLQUFLLGFBQWEwRCxXQUFXTSxLQUFLLElBQUlOLFdBQVdFLFNBQVMsRUFBRTtnQkFDL0Usc0RBQXNEO2dCQUN0RCxJQUFJZ0I7Z0JBQ0osSUFBSTtvQkFDRiwrREFBK0Q7b0JBQy9ELE1BQU1DLFlBQVluQixXQUFXRSxTQUFTLENBQUNrQixLQUFLLENBQUM7b0JBQzdDLElBQUlELFdBQVc7d0JBQ2IsTUFBTTdDLFFBQVE2QyxTQUFTLENBQUMsRUFBRSxDQUFDRSxRQUFRLENBQUMsR0FBRzt3QkFDdkMsTUFBTTlDLFVBQVU0QyxTQUFTLENBQUMsRUFBRTt3QkFDNUJELGtCQUFrQixHQUFZM0MsT0FBVEQsT0FBTSxLQUFXLE9BQVJDO29CQUNoQyxPQUFPO3dCQUNMLG9EQUFvRDt3QkFDcERsQyxRQUFRaUYsSUFBSSxDQUFDLG9DQUFvQ3RCLFdBQVdFLFNBQVM7d0JBQ3JFZ0Isa0JBQWtCLFNBQVMsb0JBQW9CO29CQUNqRDtnQkFDRixFQUFFLE9BQU85RSxPQUFPO29CQUNkQyxRQUFRRCxLQUFLLENBQUMsOEJBQThCNEQsV0FBV0UsU0FBUyxFQUFFOUQ7b0JBQ2xFOEUsa0JBQWtCLFNBQVMsb0JBQW9CO2dCQUNqRDtnQkFFQSxNQUFNYixXQUFXTCxXQUFXSyxRQUFRLElBQUk7Z0JBQ3hDLE1BQU1rQixnQkFBZ0IsZ0JBQWdDLE9BQW5CdkIsV0FBV0csT0FBTztnQkFFckQsSUFBSSxDQUFFb0IsQ0FBQUEsaUJBQWlCUCxPQUFNLEdBQUk7d0JBQ05oQix5QkFBQUE7b0JBQXpCZ0IsT0FBTyxDQUFDTyxjQUFjLEdBQUd2QixFQUFBQSxzQkFBQUEsV0FBV08sT0FBTyxjQUFsQlAsMkNBQUFBLDBCQUFBQSxvQkFBb0JRLEdBQUcsY0FBdkJSLDhDQUFBQSx3QkFBeUJTLEdBQUcsS0FBSTtnQkFDM0Q7Z0JBRUFFLGNBQWNNLE9BQU8sQ0FBQyxDQUFDTztvQkFDckIsSUFBSSxDQUFFRCxDQUFBQSxpQkFBaUJDLFFBQU8sR0FBSTt3QkFDaENBLFFBQVEsQ0FBQ0QsY0FBYyxHQUFHO29CQUM1QjtnQkFDRjtnQkFFQSxNQUFNRSxhQUFhZCxjQUFjZSxTQUFTLENBQUMsQ0FBQ0MsUUFBVUEsTUFBTWIsSUFBSSxLQUFLSTtnQkFFckUsSUFBSU8sZUFBZSxDQUFDLEdBQUc7b0JBQ3JCLElBQUssSUFBSUcsSUFBSSxHQUFHQSxJQUFJdkIsWUFBWW9CLGFBQWFHLElBQUlqQixjQUFja0IsTUFBTSxFQUFFRCxJQUFLO3dCQUMxRWpCLGFBQWEsQ0FBQ2MsYUFBYUcsRUFBRSxDQUFDTCxjQUFjLEdBQUd2QixXQUFXTSxLQUFLO29CQUNqRTtnQkFDRjtZQUNGO1FBQ0Y7UUFFQSxNQUFNd0IsVUFBVTtZQUFDZDtlQUFZTDtTQUFjO1FBRTNDLE1BQU1vQixZQUFZbEgsdUNBQVUsQ0FBQ29ILGFBQWEsQ0FBQ2xDO1FBQzNDLE1BQU1tQyxZQUFZckgsdUNBQVUsQ0FBQ29ILGFBQWEsQ0FBQ0g7UUFFM0MsTUFBTUssS0FBS3RILHVDQUFVLENBQUN1SCxRQUFRO1FBQzlCdkgsdUNBQVUsQ0FBQ3dILGlCQUFpQixDQUFDRixJQUFJSixXQUFXO1FBQzVDbEgsdUNBQVUsQ0FBQ3dILGlCQUFpQixDQUFDRixJQUFJRCxXQUFXO1FBRTVDckgsMkNBQWMsQ0FBQ3NILElBQUksR0FBMEIsT0FBdkJyQyxpQkFBaUJ5QyxLQUFLLEVBQUM7SUFDL0MsR0FBRyxFQUFFO0lBRUwsTUFBTUMsZ0JBQWdCN0gsa0RBQVdBLENBQUM7UUFDaEMsMERBQTBEO1FBQzFELElBQUksQ0FBQ0ssUUFBUThDLFNBQVNLLE9BQU8sS0FBSyxXQUFXO1lBQzNDOUIsUUFBUW9HLEdBQUcsQ0FBQyxHQUFnRXpILE9BQTdEZ0QsYUFBYUcsT0FBTyxDQUFDb0UsS0FBSyxFQUFDLG9DQUFrRHpFLE9BQWhCOUMsTUFBSyxhQUE0QixPQUFqQjhDLFNBQVNLLE9BQU87WUFDNUc7UUFDRjtRQUVBLElBQUk7Z0JBaUNTZCxXQUlIQTtZQXBDUixNQUFNeUMsbUJBQW1COUIsYUFBYUcsT0FBTztZQUM3QyxNQUFNdUUsZUFBZTNFLG9CQUFvQkksT0FBTztZQUNoRCxNQUFNLEVBQUVtQyxLQUFLLEVBQUVxQyxTQUFTLEVBQUVoRCxTQUFTLEVBQUVpRCxhQUFhLEVBQUUsR0FBRzlDO1lBRXZELCtDQUErQztZQUMvQyxNQUFNK0MsaUJBQ0pELGtCQUFrQixRQUNkdEMsUUFBUSxDQUFDcUMsYUFBYSxLQUFLRCxlQUMzQnBDLFFBQVEsQ0FBQ3FDLGFBQWEsS0FBS0Q7WUFFakNyRyxRQUFRb0csR0FBRyxDQUFDLEdBQWtEQyxPQUEvQzVDLGlCQUFpQnlDLEtBQUssRUFBQyw2QkFBZ0RNLE9BQXhCSCxlQUFlLEdBQUUsU0FBc0IsT0FBZkcsZ0JBQWU7WUFFckcsTUFBTUMsV0FBVyxNQUFNQyxNQUFNLHlCQUE0Q0YsT0FBbkJsRCxXQUFVLFdBQWdDM0UsT0FBdkI2SCxnQkFBZSxVQUFhLE9BQUw3SDtZQUNoRyxNQUFNcUMsT0FBTyxNQUFNeUYsU0FBU0UsSUFBSTtZQUVoQyxvREFBb0Q7WUFDcEQsTUFBTWhILE1BQU0sSUFBSUQ7WUFDaEIsTUFBTW1FLFlBQVlsRSxJQUFJaUgsWUFBWSxHQUFHekUsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsbUJBQW1CO1lBRXZFLE1BQU02QixXQUFXWCxtQkFBbUJDO1lBRXBDLHlDQUF5QztZQUN6QyxNQUFNdEIsWUFBWXJDLElBQUl5QixXQUFXO1lBQ2pDLE1BQU15RixtQkFBbUIsSUFBSW5ILEtBQUtDLElBQUlFLE9BQU8sS0FBTW1FLFdBQVcsS0FBSyxNQUFPNUMsV0FBVztZQUVyRnBCLFFBQVFvRyxHQUFHLENBQUMsR0FBd0NDLE9BQXJDNUMsaUJBQWlCeUMsS0FBSyxFQUFDLGdCQUErQixPQUFqQkcsZUFBZSxHQUFFLE1BQUlyRjtZQUV6RSxNQUFNOEYsWUFBeUI7Z0JBQzdCN0csUUFBUWUsS0FBS2pCLEtBQUssR0FBRyxVQUFVO2dCQUMvQjZELFNBQVM1QyxLQUFLakIsS0FBSyxHQUFHLDZCQUEwQjtnQkFDaERtRSxTQUFTbEQ7Z0JBQ1Q2QztnQkFDQUMsT0FBTyxHQUFFOUMsWUFBQUEsS0FBS21ELEdBQUcsY0FBUm5ELGdDQUFBQSxVQUFVK0YsUUFBUTtnQkFDM0IvQztnQkFDQUMsT0FBT3VDO2dCQUNQbEQ7Z0JBQ0EwRCxNQUFNaEcsRUFBQUEsYUFBQUEsS0FBS21ELEdBQUcsY0FBUm5ELGlDQUFBQSxXQUFVb0QsR0FBRyxLQUFJO2dCQUN2QnBDO2dCQUNBNkU7WUFDRjtZQUVBM0csVUFBVStHLENBQUFBLE9BQVE7dUJBQUlBO29CQUFNSDtpQkFBVTtZQUV0Qyw2Q0FBNkM7WUFDN0NJLG9CQUFvQko7WUFFcEIsc0NBQXNDO1lBQ3RDLElBQUlBLFVBQVU3RyxNQUFNLEtBQUssV0FBVztnQkFDbENZLGdCQUFnQixDQUFDb0csT0FBaUJBLE9BQU9UO1lBQzNDO1lBRUEsTUFBTVcsZ0JBQWdCZCxlQUFlO1lBQ3JDN0Ysb0JBQW9CMkc7WUFFcEIsSUFBSUEsaUJBQWlCMUQsaUJBQWlCMkQsZUFBZSxFQUFFO2dCQUNyRCxJQUFJN0YsWUFBWU8sT0FBTyxFQUFFO29CQUN2QmtCLGNBQWN6QixZQUFZTyxPQUFPO29CQUNqQ1AsWUFBWU8sT0FBTyxHQUFHO29CQUN0QjFCLGNBQWM7Z0JBQ2hCO2dCQUNBTSxTQUFTO2dCQUNUZSxTQUFTSyxPQUFPLEdBQUc7Z0JBRW5CLG9DQUFvQztnQkFDcEMsSUFBSSxLQUFrQixJQUFlLGtCQUFrQm9CLFVBQVVtRSxhQUFhQyxVQUFVLEtBQUssV0FBVztvQkFDdEcsSUFBSUQsYUFBYSxnQkFBNkIsT0FBdkI1RCxpQkFBaUJ5QyxLQUFLLEVBQUMsZ0JBQWM7d0JBQzFEcUIsTUFBTSwrQ0FBdUUsT0FBeEIxRixnQkFBZ0JDLE9BQU8sRUFBQzt3QkFDN0UwRixNQUFNO29CQUNSO2dCQUNGO2dCQUVBLGtDQUFrQztnQkFDbEM1RSxXQUFXLElBQU1XLGlCQUFpQjtZQUNwQztRQUVGLEVBQUUsT0FBT3hELE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLEdBQTRDMkIsT0FBekNDLGFBQWFHLE9BQU8sQ0FBQ29FLEtBQUssRUFBQyxnQkFBOEMsT0FBaEN4RSxvQkFBb0JJLE9BQU8sR0FBRyxHQUFFLE1BQUkvQjtZQUU5RixNQUFNSixNQUFNLElBQUlEO1lBQ2hCLE1BQU1vSCxZQUF5QjtnQkFDN0I3RyxRQUFRO2dCQUNSMkQsU0FBUztnQkFDVE0sU0FBU25FO2dCQUNUOEQsV0FBV2xFLElBQUlpSCxZQUFZLEdBQUd6RSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQzNDNkIsVUFBVTtnQkFDVmdELE1BQU07Z0JBQ05oRixXQUFXckMsSUFBSXlCLFdBQVc7Z0JBQzFCeUYsa0JBQWtCbEgsSUFBSXlCLFdBQVc7WUFDbkM7WUFFQWxCLFVBQVUrRyxDQUFBQSxPQUFRO3VCQUFJQTtvQkFBTUg7aUJBQVU7WUFFdEMsNkNBQTZDO1lBQzdDSSxvQkFBb0JKO1lBRXBCLE1BQU1LLGdCQUFnQnpGLG9CQUFvQkksT0FBTyxHQUFHO1lBQ3BEdEIsb0JBQW9CMkc7WUFFcEIsSUFBSUEsaUJBQWlCeEYsYUFBYUcsT0FBTyxDQUFDc0YsZUFBZSxFQUFFO2dCQUN6RCxJQUFJN0YsWUFBWU8sT0FBTyxFQUFFO29CQUN2QmtCLGNBQWN6QixZQUFZTyxPQUFPO29CQUNqQ1AsWUFBWU8sT0FBTyxHQUFHO29CQUN0QjFCLGNBQWM7Z0JBQ2hCO2dCQUNBTSxTQUFTO2dCQUNUZSxTQUFTSyxPQUFPLEdBQUc7Z0JBRW5CLGtFQUFrRTtnQkFDbEUsSUFBSSxLQUFrQixJQUFlLGtCQUFrQm9CLFVBQVVtRSxhQUFhQyxVQUFVLEtBQUssV0FBVztvQkFDdEcsSUFBSUQsYUFBYSxnQkFBaUMsT0FBM0IxRixhQUFhRyxPQUFPLENBQUNvRSxLQUFLLEVBQUMsZ0JBQWM7d0JBQzlEcUIsTUFBTSwwREFBa0YsT0FBeEIxRixnQkFBZ0JDLE9BQU87d0JBQ3ZGMEYsTUFBTTtvQkFDUjtnQkFDRjtnQkFFQTVFLFdBQVcsSUFBTVcsaUJBQWlCO1lBQ3BDO1FBQ0Y7SUFDRixHQUFHO1FBQUM1RTtRQUFNNEU7S0FBYztJQUV4QixNQUFNVixhQUFhO1FBQ2pCLElBQUlwQyxVQUFVLFdBQVc7UUFFekJILFlBQVk7UUFDWkksU0FBUztRQUVULHFFQUFxRTtRQUNyRWUsU0FBU0ssT0FBTyxHQUFHO1FBRW5CLDZDQUE2QztRQUM3Q3FFO1FBRUEsNEZBQTRGO1FBQzVGLE1BQU1zQixhQUFhLENBQUM5RixhQUFhRyxPQUFPLENBQUNiLGVBQWUsSUFBSSxLQUFLLEtBQUssTUFBTSxvQ0FBb0M7UUFDaEgsTUFBTXlHLGdCQUFnQkMsWUFBWSxJQUFNeEIsaUJBQWlCc0I7UUFDekRsRyxZQUFZTyxPQUFPLEdBQUc0RjtRQUN0QnRILGNBQWNzSDtJQUNoQjtJQUVBLE1BQU1FLGFBQWE7UUFDakIsSUFBSXJHLFlBQVlPLE9BQU8sRUFBRTtZQUN2QmtCLGNBQWN6QixZQUFZTyxPQUFPO1lBQ2pDUCxZQUFZTyxPQUFPLEdBQUc7WUFDdEIxQixjQUFjO1lBQ2RFLFlBQVk7WUFDWkksU0FBUztZQUVULG1DQUFtQztZQUNuQ2UsU0FBU0ssT0FBTyxHQUFHO1FBQ3JCO0lBQ0Y7SUFFQSxNQUFNK0YsY0FBYztRQUNsQnZILFlBQVk7UUFDWkksU0FBUztRQUVULG1DQUFtQztRQUNuQ2UsU0FBU0ssT0FBTyxHQUFHO1FBRW5CLHFEQUFxRDtRQUNyRHFFO1FBRUEsMkRBQTJEO1FBQzNELE1BQU1zQixhQUFhLENBQUM5RixhQUFhRyxPQUFPLENBQUNiLGVBQWUsSUFBSSxLQUFLLEtBQUs7UUFDdEUsTUFBTXlHLGdCQUFnQkMsWUFBWXhCLGVBQWVzQjtRQUNqRGxHLFlBQVlPLE9BQU8sR0FBRzRGO1FBQ3RCdEgsY0FBY3NIO0lBQ2hCO0lBRUEsTUFBTUksZ0JBQWdCO1FBQ3BCLElBQUl2RyxZQUFZTyxPQUFPLEVBQUU7WUFDdkJrQixjQUFjekIsWUFBWU8sT0FBTztZQUNqQ1AsWUFBWU8sT0FBTyxHQUFHO1lBQ3RCMUIsY0FBYztRQUNoQjtRQUNBLElBQUlLLFVBQVUsYUFBYTtZQUN6QkMsU0FBUztZQUNUZSxTQUFTSyxPQUFPLEdBQUc7WUFFbkIsc0NBQXNDO1lBQ3RDLElBQUksS0FBa0IsSUFBZSxrQkFBa0JvQixVQUFVbUUsYUFBYUMsVUFBVSxLQUFLLFdBQVc7Z0JBQ3RHLElBQUlELGFBQWEsZ0JBQXNCLE9BQWhCdkcsVUFBVW9GLEtBQUssRUFBQyw0QkFBMEI7b0JBQy9EcUIsTUFBTSw0Q0FBeUQsT0FBYjNHLGNBQWE7b0JBQy9ENEcsTUFBTTtnQkFDUjtZQUNGO1lBRUFqRTtRQUNGO1FBQ0F4QyxhQUFha0csQ0FBQUEsT0FBUztnQkFBRSxHQUFHQSxJQUFJO2dCQUFFbEYsV0FBVztZQUFNO0lBQ3BEO0lBRUEsTUFBTWdHLGFBQWE7UUFDakIsZ0ZBQWdGO1FBQ2hGLHlFQUF5RTtRQUV6RSx3RUFBd0U7UUFDeEVDO1FBRUEsSUFBSXpHLFlBQVlPLE9BQU8sRUFBRTtZQUN2QmtCLGNBQWN6QixZQUFZTyxPQUFPO1lBQ2pDUCxZQUFZTyxPQUFPLEdBQUc7WUFDdEIxQixjQUFjO1FBQ2hCO1FBQ0FGLFVBQVUsRUFBRTtRQUNaSSxZQUFZO1FBQ1pFLG9CQUFvQjtRQUNwQkUsU0FBUztRQUNUZSxTQUFTSyxPQUFPLEdBQUc7UUFDbkJqQixnQkFBZ0I7UUFDaEJFLGFBQWFrRyxDQUFBQSxPQUFTO2dCQUFFLEdBQUdBLElBQUk7Z0JBQUVsRixXQUFXO2dCQUFPQyxXQUFXO1lBQUc7UUFFakUsMkNBQTJDO1FBQzNDN0MsYUFBYVcsVUFBVSxDQUFDLGNBQXNCLE9BQVJqQjtJQUN4QztJQUVBLE1BQU1vSixrQkFBa0I7UUFDdEJsSixnQkFBZ0JGLFNBQVNpQztJQUMzQjtJQUVBLDhEQUE4RDtJQUM5RCxNQUFNb0gsa0JBQWtCLENBQUNDO1FBQ3ZCcEgsYUFBYW9IO0lBQ2Y7SUFFQSx5REFBeUQ7SUFDekRqSyxzREFBZSxDQUFDO1FBQ2JnRixNQUFjLENBQUMsbUJBQTJCLE9BQVJyRSxTQUFVLEdBQUdxSjtRQUMvQ2hGLE1BQWMsQ0FBQyxpQkFBeUIsT0FBUnJFLFNBQVUsR0FBR2lKO1FBQzdDNUUsTUFBYyxDQUFDLGNBQXNCLE9BQVJyRSxTQUFVLEdBQUdrSjtRQUMzQyxPQUFPO1lBQ0wsT0FBTyxNQUFlLENBQUMsbUJBQTJCLE9BQVJsSixTQUFVO1lBQ3BELE9BQU8sTUFBZSxDQUFDLGlCQUF5QixPQUFSQSxTQUFVO1lBQ2xELE9BQU8sTUFBZSxDQUFDLGNBQXNCLE9BQVJBLFNBQVU7UUFDakQ7SUFDRixHQUFHO1FBQUNBO0tBQVE7SUFFWix5REFBeUQ7SUFDekQsTUFBTXFJLHNCQUFzQjVJLGtEQUFXQSxDQUFDLENBQUM4SjtRQUN2QyxNQUFNQyxtQkFBbUI7UUFDekIsTUFBTUMsa0JBQWtCbkosYUFBYUMsT0FBTyxDQUFDaUo7UUFDN0MsSUFBSUUsVUFBVSxFQUFFO1FBRWhCLElBQUlELGlCQUFpQjtZQUNuQixJQUFJO2dCQUNGQyxVQUFVakosS0FBS0MsS0FBSyxDQUFDK0k7WUFDdkIsRUFBRSxPQUFPdkksT0FBTztnQkFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7Z0JBQy9Dd0ksVUFBVSxFQUFFO1lBQ2Q7UUFDRjtRQUVBLE1BQU1DLHNCQUFzQjtZQUMxQixHQUFHSixTQUFTO1lBQ1p2SjtZQUNBNEosWUFBWTNILFVBQVVvRixLQUFLO1lBQzNCd0MsU0FBUyxJQUFJaEosT0FBTzBCLFdBQVc7UUFDakM7UUFFQW1ILFFBQVEvRCxJQUFJLENBQUNnRTtRQUViLDhFQUE4RTtRQUM5RSxJQUFJRCxRQUFRL0MsTUFBTSxHQUFHLE1BQU07WUFDekIrQyxVQUFVQSxRQUFRSSxLQUFLLENBQUMsQ0FBQztRQUMzQjtRQUVBeEosYUFBYWtDLE9BQU8sQ0FBQ2dILGtCQUFrQi9JLEtBQUtnQyxTQUFTLENBQUNpSDtJQUN4RCxHQUFHO1FBQUMxSjtRQUFTaUMsVUFBVW9GLEtBQUs7S0FBQztJQUU3QiwwQ0FBMEM7SUFDMUMsTUFBTThCLGlCQUFpQjFKLGtEQUFXQSxDQUFDO1FBQ2pDLE1BQU1zSyxrQkFBa0I7UUFDeEIsTUFBTUMsaUJBQWlCMUosYUFBYUMsT0FBTyxDQUFDd0o7UUFDNUMsSUFBSUUsU0FBUyxFQUFFO1FBRWYsSUFBSUQsZ0JBQWdCO1lBQ2xCLElBQUk7Z0JBQ0ZDLFNBQVN4SixLQUFLQyxLQUFLLENBQUNzSjtZQUN0QixFQUFFLE9BQU85SSxPQUFPO2dCQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtnQkFDOUMrSSxTQUFTLEVBQUU7WUFDYjtRQUNGO1FBRUEsTUFBTUMsY0FBYztZQUNsQmxLO1lBQ0E0SixZQUFZM0gsVUFBVW9GLEtBQUs7WUFDM0I4QyxTQUFTLElBQUl0SixPQUFPMEIsV0FBVztZQUMvQjZILGdCQUFnQmhKLE9BQU91RixNQUFNO1lBQzdCMEQsYUFBYXRJO1FBQ2Y7UUFFQWtJLE9BQU90RSxJQUFJLENBQUN1RTtRQUVaLHVDQUF1QztRQUN2QyxJQUFJRCxPQUFPdEQsTUFBTSxHQUFHLEtBQUs7WUFDdkJzRCxTQUFTQSxPQUFPSCxLQUFLLENBQUMsQ0FBQztRQUN6QjtRQUVBeEosYUFBYWtDLE9BQU8sQ0FBQ3VILGlCQUFpQnRKLEtBQUtnQyxTQUFTLENBQUN3SDtJQUN2RCxHQUFHO1FBQUNqSztRQUFTaUMsVUFBVW9GLEtBQUs7UUFBRWpHLE9BQU91RixNQUFNO1FBQUU1RTtLQUFhO0lBRTFELHFCQUNFLDhEQUFDdUk7UUFBSUMsV0FBVyxTQUFlLE9BQU5wSzs7MEJBQ3ZCLDhEQUFDcUs7Z0JBQUdELFdBQVU7MEJBQWV0SSxVQUFVb0YsS0FBSzs7Ozs7O1lBRTNDcEYsVUFBVWlCLFNBQVMsSUFBSWpCLFVBQVVrQixTQUFTLGtCQUN6Qyw4REFBQ21IO2dCQUFJQyxXQUFVOztvQkFBa0I7b0JBQ1R0SSxVQUFVa0IsU0FBUzs7Ozs7OztZQUkzQ3ZCLENBQUFBLFVBQVUsWUFBWUEsVUFBVSxXQUFVLG1CQUMxQyw4REFBQzZJO2dCQUFPQyxTQUFTaEc7Z0JBQWU2RixXQUFVOzBCQUN4Qyw0RUFBQ0k7b0JBQUtKLFdBQVU7Ozs7Ozs7Ozs7OzBCQUlwQiw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQ1pLLE1BQU1DLElBQUksQ0FBQztvQkFBRWxFLFFBQVExRSxVQUFVc0csZUFBZTtnQkFBQyxHQUFHaEYsR0FBRyxDQUFDLENBQUN1SCxHQUFHQyw0QkFDekQsOERBQUNUO3dCQUFzQkMsV0FBVTs7NEJBQzdCLGdCQUE0QixPQUFoQlEsY0FBYyxHQUFFOzRCQUM3QjNKLE1BQU0sQ0FBQzJKLFlBQVksaUJBQ2xCOztvQ0FDRzNKLE1BQU0sQ0FBQzJKLFlBQVksQ0FBQzNKLE1BQU0sS0FBSywwQkFDOUIsOERBQUN1Sjt3Q0FBS0osV0FBVTtrREFBaUI7Ozs7O2tFQUVqQyw4REFBQ0k7d0NBQUtKLFdBQVU7a0RBQWU7Ozs7OztrREFFakMsOERBQUNJO3dDQUFLSixXQUFVO2tEQUFhbkosTUFBTSxDQUFDMkosWUFBWSxDQUFDL0YsU0FBUzs7Ozs7O29DQUN6RDVELE1BQU0sQ0FBQzJKLFlBQVksQ0FBQzdGLFdBQVcsa0JBQzlCLDhEQUFDeUY7d0NBQUtKLFdBQVU7a0RBQWdCbkosTUFBTSxDQUFDMkosWUFBWSxDQUFDN0YsV0FBVzs7Ozs7Ozs2REFJbkUsOERBQUN5RjtnQ0FBS0osV0FBVTswQ0FBaUI7Ozs7Ozs7dUJBZjNCUTs7Ozs7Ozs7OzswQkFxQmQsOERBQUNUO2dCQUFJQyxXQUFVOztvQkFDWjNJLFVBQVUsd0JBQ1QsOERBQUM2STt3QkFBT0MsU0FBUzFHO3dCQUFZdUcsV0FBVTtrQ0FBZTs7Ozs7O29CQUt2RDNJLFVBQVUsMkJBQ1QsOERBQUM2STt3QkFBT0MsU0FBUzNCO3dCQUFZd0IsV0FBVTtrQ0FBZTs7Ozs7O29CQUt2RDNJLFVBQVUsMEJBQ1Q7OzBDQUNFLDhEQUFDNkk7Z0NBQU9DLFNBQVMxQjtnQ0FBYXVCLFdBQVU7MENBQWdCOzs7Ozs7MENBR3hELDhEQUFDRTtnQ0FBT0MsU0FBUyxJQUFNekssY0FBY0QsU0FBUztnQ0FBY3VLLFdBQVU7MENBQWtCOzs7Ozs7MENBR3hGLDhEQUFDRTtnQ0FBT0MsU0FBUyxJQUFNekssY0FBY0QsU0FBUztnQ0FBY3VLLFdBQVU7MENBQWU7Ozs7Ozs7O29CQU14RjNJLFVBQVUsNkJBQ1Q7OzBDQUNFLDhEQUFDMEk7Z0NBQUlDLFdBQVU7MENBQW9COzs7Ozs7MENBQ25DLDhEQUFDRTtnQ0FBT0MsU0FBUyxJQUFNekssY0FBY0QsU0FBUztnQ0FBY3VLLFdBQVU7MENBQWU7Ozs7Ozs7O2tDQU96Riw4REFBQ0U7d0JBQU9DLFNBQVN0Qjt3QkFBaUJtQixXQUFVO2tDQUFjOzs7Ozs7Ozs7Ozs7MEJBSzVELDhEQUFDRDtnQkFBSUMsV0FBVTs7b0JBQWdCO29CQUFJeEk7Ozs7Ozs7Ozs7Ozs7QUFHekM7R0FscEJNbkM7O1FBQ2NGLG1EQUFRQTs7O0tBRHRCRTtBQW9wQk4sK0RBQWVBLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwcC9jb21wb25lbnRzL0Jsb2NrLnRzeD8zNzkzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gJy4uL1RoZW1lQ29udGV4dCc7XHJcbmltcG9ydCAqIGFzIFhMU1ggZnJvbSAneGxzeCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrU3RhdHVzIHtcclxuICBzdGF0dXM6ICdzdWNjZXNzJyB8ICdlcnJvcic7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG4gIGRldGFpbHM6IGFueTtcclxuICB0aW1lc3RhbXA6IHN0cmluZztcclxuICBvcmRlcklkPzogbnVtYmVyO1xyXG4gIG9yZGVyU3RhdHVzPzogc3RyaW5nO1xyXG4gIGR1cmF0aW9uPzogbnVtYmVyO1xyXG4gIGNvdW50PzogbnVtYmVyO1xyXG4gIHNlcnZpY2VJZD86IG51bWJlcjtcclxuICBjb3N0PzogbnVtYmVyO1xyXG4gIHN0YXJ0VGltZT86IHN0cmluZztcclxuICBlc3RpbWF0ZWRFbmRUaW1lPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrRGF0YSB7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICB0b3RhbE9wZXJhdGlvbnM6IG51bWJlcjtcclxuICBzZXJ2aWNlSWQ6IG51bWJlcjtcclxuICBjb3VudDogbnVtYmVyO1xyXG4gIGRlY3JlbWVudDogbnVtYmVyO1xyXG4gIG9wZXJhdGlvblR5cGU6ICdhZGQnIHwgJ3N1YnRyYWN0JztcclxuICBhdXRvU3RhcnQ6IGJvb2xlYW47XHJcbiAgc3RhcnRUaW1lOiBzdHJpbmc7XHJcbiAgaW50ZXJ2YWxNaW51dGVzOiBudW1iZXI7IC8vIEludGVydmFsbyBwZXJzb25hbGl6YWJsZSBlbiBtaW51dG9zICgxLTUpXHJcbn1cclxuXHJcbmludGVyZmFjZSBCbG9ja1Byb3BzIHtcclxuICBpbml0aWFsRGF0YTogQmxvY2tEYXRhO1xyXG4gIGxpbms6IHN0cmluZztcclxuICBvblRvdGFsVmlld2Vyc0NoYW5nZTogKGJsb2NrSWQ6IHN0cmluZywgdG90YWxWaWV3ZXJzOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgYmxvY2tJZDogc3RyaW5nO1xyXG4gIG9uU2hvd1dhcm5pbmc6IChibG9ja0lkOiBzdHJpbmcsIHdhcm5pbmdUeXBlOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgb25TaG93RWRpdE1vZGFsOiAoYmxvY2tJZDogc3RyaW5nLCBibG9ja0RhdGE6IEJsb2NrRGF0YSkgPT4gdm9pZDtcclxufVxyXG5cclxuY29uc3QgQmxvY2s6IFJlYWN0LkZDPEJsb2NrUHJvcHM+ID0gKHsgaW5pdGlhbERhdGEsIGxpbmssIG9uVG90YWxWaWV3ZXJzQ2hhbmdlLCBibG9ja0lkLCBvblNob3dXYXJuaW5nLCBvblNob3dFZGl0TW9kYWwgfSkgPT4ge1xyXG4gIGNvbnN0IHsgdGhlbWUgfSA9IHVzZVRoZW1lKCk7XHJcbiAgXHJcbiAgLy8gRnVuY2nDs24gcGFyYSBjYXJnYXIgZXN0YWRvIGRlc2RlIGxvY2FsU3RvcmFnZVxyXG4gIGNvbnN0IGxvYWRCbG9ja1N0YXRlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGBibG9ja1N0YXRlXyR7YmxvY2tJZH1gKTtcclxuICAgIGlmIChzYXZlZFN0YXRlKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShzYXZlZFN0YXRlKTtcclxuICAgICAgICAvLyBMaW1waWFyIGRhdG9zIG11eSBhbnRpZ3VvcyAobcOhcyBkZSA3IGTDrWFzKVxyXG4gICAgICAgIGlmIChwYXJzZWQubGFzdFNhdmVkKSB7XHJcbiAgICAgICAgICBjb25zdCBsYXN0U2F2ZWREYXRlID0gbmV3IERhdGUocGFyc2VkLmxhc3RTYXZlZCk7XHJcbiAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgY29uc3QgZGF5c0RpZmYgPSAobm93LmdldFRpbWUoKSAtIGxhc3RTYXZlZERhdGUuZ2V0VGltZSgpKSAvICgxMDAwICogMzYwMCAqIDI0KTtcclxuICAgICAgICAgIGlmIChkYXlzRGlmZiA+IDcpIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYGJsb2NrU3RhdGVfJHtibG9ja0lkfWApO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNhdmVkIGJsb2NrIHN0YXRlOicsIGVycm9yKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgYmxvY2tTdGF0ZV8ke2Jsb2NrSWR9YCk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sIFtibG9ja0lkXSk7XHJcblxyXG4gIC8vIEVzdGFkbyBsb2NhbCBkZWwgYmxvcXVlIGNvbiBjYXJnYSBkZXNkZSBsb2NhbFN0b3JhZ2VcclxuICBjb25zdCBbc3RhdHVzLCBzZXRTdGF0dXNdID0gdXNlU3RhdGU8QmxvY2tTdGF0dXNbXT4oKCkgPT4ge1xyXG4gICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGxvYWRCbG9ja1N0YXRlKCk7XHJcbiAgICByZXR1cm4gc2F2ZWRTdGF0ZT8uc3RhdHVzIHx8IFtdO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGNvbnN0IFtpbnRlcnZhbElkLCBzZXRJbnRlcnZhbElkXSA9IHVzZVN0YXRlPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lzUGF1c2VkLCBzZXRJc1BhdXNlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2N1cnJlbnRPcGVyYXRpb24sIHNldEN1cnJlbnRPcGVyYXRpb25dID0gdXNlU3RhdGUoKCkgPT4ge1xyXG4gICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGxvYWRCbG9ja1N0YXRlKCk7XHJcbiAgICByZXR1cm4gc2F2ZWRTdGF0ZT8uY3VycmVudE9wZXJhdGlvbiB8fCAwO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGU8J2lkbGUnIHwgJ3J1bm5pbmcnIHwgJ3BhdXNlZCcgfCAnY29tcGxldGVkJz4oKCkgPT4ge1xyXG4gICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGxvYWRCbG9ja1N0YXRlKCk7XHJcbiAgICBjb25zdCBzYXZlZFN0YXRlVmFsdWUgPSBzYXZlZFN0YXRlPy5zdGF0ZSB8fCAnaWRsZSc7XHJcbiAgICAvLyBTaSBlc3RhYmEgJ3J1bm5pbmcnIGFudGVzIGRlIHJlY2FyZ2FyLCBjYW1iaWFyIGEgJ3BhdXNlZCcgcGFyYSBldml0YXIgcHJvYmxlbWFzXHJcbiAgICByZXR1cm4gc2F2ZWRTdGF0ZVZhbHVlID09PSAncnVubmluZycgPyAncGF1c2VkJyA6IHNhdmVkU3RhdGVWYWx1ZTtcclxuICB9KTtcclxuICBcclxuICBjb25zdCBbdG90YWxWaWV3ZXJzLCBzZXRUb3RhbFZpZXdlcnNdID0gdXNlU3RhdGUoKCkgPT4ge1xyXG4gICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGxvYWRCbG9ja1N0YXRlKCk7XHJcbiAgICByZXR1cm4gc2F2ZWRTdGF0ZT8udG90YWxWaWV3ZXJzIHx8IDA7XHJcbiAgfSk7XHJcbiAgXHJcbiAgY29uc3QgW2Jsb2NrRGF0YSwgc2V0QmxvY2tEYXRhXSA9IHVzZVN0YXRlPEJsb2NrRGF0YT4oKCkgPT4ge1xyXG4gICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGxvYWRCbG9ja1N0YXRlKCk7XHJcbiAgICBjb25zdCBkYXRhID0gc2F2ZWRTdGF0ZT8uYmxvY2tEYXRhIHx8IGluaXRpYWxEYXRhO1xyXG4gICAgLy8gQXNlZ3VyYXIgcXVlIGludGVydmFsTWludXRlcyB0ZW5nYSB1biB2YWxvciBwb3IgZGVmZWN0b1xyXG4gICAgaWYgKCFkYXRhLmludGVydmFsTWludXRlcykge1xyXG4gICAgICBkYXRhLmludGVydmFsTWludXRlcyA9IDI7IC8vIDIgbWludXRvcyBwb3IgZGVmZWN0b1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSk7XHJcbiAgXHJcbiAgLy8gRnVuY2nDs24gcGFyYSBndWFyZGFyIGVzdGFkbyBlbiBsb2NhbFN0b3JhZ2VcclxuICBjb25zdCBzYXZlQmxvY2tTdGF0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHN0YXRlVG9TYXZlID0ge1xyXG4gICAgICBzdGF0dXMsXHJcbiAgICAgIGN1cnJlbnRPcGVyYXRpb24sXHJcbiAgICAgIHN0YXRlLFxyXG4gICAgICB0b3RhbFZpZXdlcnMsXHJcbiAgICAgIGJsb2NrRGF0YSxcclxuICAgICAgbGFzdFNhdmVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH07XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgYmxvY2tTdGF0ZV8ke2Jsb2NrSWR9YCwgSlNPTi5zdHJpbmdpZnkoc3RhdGVUb1NhdmUpKTtcclxuICB9LCBbYmxvY2tJZCwgc3RhdHVzLCBjdXJyZW50T3BlcmF0aW9uLCBzdGF0ZSwgdG90YWxWaWV3ZXJzLCBibG9ja0RhdGFdKTtcclxuXHJcbiAgLy8gR3VhcmRhciBlc3RhZG8gY2FkYSB2ZXogcXVlIGNhbWJpZSBhbGfDum4gdmFsb3IgaW1wb3J0YW50ZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzYXZlQmxvY2tTdGF0ZSgpO1xyXG4gIH0sIFtzdGF0dXMsIGN1cnJlbnRPcGVyYXRpb24sIHN0YXRlLCB0b3RhbFZpZXdlcnMsIGJsb2NrRGF0YSwgc2F2ZUJsb2NrU3RhdGVdKTtcclxuICBcclxuICAvLyBSZWZzIHBhcmEgbWFudGVuZXIgdmFsb3JlcyBhY3R1YWxpemFkb3MgZW4gZWwgaW50ZXJ2YWxvXHJcbiAgY29uc3QgaW50ZXJ2YWxSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBsYXN0UmVwb3J0ZWRWaWV3ZXJzID0gdXNlUmVmPG51bWJlcj4oMCk7XHJcbiAgY29uc3Qgc3RhdGVSZWYgPSB1c2VSZWYoc3RhdGUpO1xyXG4gIGNvbnN0IGN1cnJlbnRPcGVyYXRpb25SZWYgPSB1c2VSZWYoY3VycmVudE9wZXJhdGlvbik7XHJcbiAgY29uc3QgYmxvY2tEYXRhUmVmID0gdXNlUmVmKGJsb2NrRGF0YSk7XHJcbiAgY29uc3Qgc3RhdHVzUmVmID0gdXNlUmVmKHN0YXR1cyk7XHJcbiAgY29uc3QgdG90YWxWaWV3ZXJzUmVmID0gdXNlUmVmKHRvdGFsVmlld2Vycyk7XHJcblxyXG4gIC8vIEFjdHVhbGl6YXIgcmVmcyBjdWFuZG8gY2FtYmlhbiBsb3MgZXN0YWRvc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzdGF0ZVJlZi5jdXJyZW50ID0gc3RhdGU7XHJcbiAgfSwgW3N0YXRlXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjdXJyZW50T3BlcmF0aW9uUmVmLmN1cnJlbnQgPSBjdXJyZW50T3BlcmF0aW9uO1xyXG4gIH0sIFtjdXJyZW50T3BlcmF0aW9uXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBibG9ja0RhdGFSZWYuY3VycmVudCA9IGJsb2NrRGF0YTtcclxuICB9LCBbYmxvY2tEYXRhXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzdGF0dXNSZWYuY3VycmVudCA9IHN0YXR1cztcclxuICB9LCBbc3RhdHVzXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICB0b3RhbFZpZXdlcnNSZWYuY3VycmVudCA9IHRvdGFsVmlld2VycztcclxuICB9LCBbdG90YWxWaWV3ZXJzXSk7XHJcblxyXG4gIC8vIEVmZWN0byBwYXJhIGF1dG8tc3RhcnRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGJsb2NrRGF0YS5hdXRvU3RhcnQgJiYgYmxvY2tEYXRhLnN0YXJ0VGltZSAmJiBzdGF0ZSA9PT0gJ2lkbGUnKSB7XHJcbiAgICAgIGNvbnN0IFtob3VycywgbWludXRlc10gPSBibG9ja0RhdGEuc3RhcnRUaW1lLnNwbGl0KCc6JykubWFwKE51bWJlcik7XHJcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpLCBob3VycywgbWludXRlcywgMCwgMCk7XHJcbiAgICAgIGNvbnN0IGRlbGF5ID0gc3RhcnQuZ2V0VGltZSgpIC0gbm93LmdldFRpbWUoKTtcclxuXHJcbiAgICAgIGlmIChkZWxheSA+IDApIHtcclxuICAgICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHN0YXJ0QmxvY2soKSwgZGVsYXkpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIFtibG9ja0RhdGEuYXV0b1N0YXJ0LCBibG9ja0RhdGEuc3RhcnRUaW1lLCBzdGF0ZV0pO1xyXG5cclxuICAvLyBFZmVjdG8gcGFyYSBub3RpZmljYXIgY2FtYmlvcyBlbiB0b3RhbFZpZXdlcnMgKG9wdGltaXphZG8pXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChsYXN0UmVwb3J0ZWRWaWV3ZXJzLmN1cnJlbnQgIT09IHRvdGFsVmlld2Vycykge1xyXG4gICAgICBvblRvdGFsVmlld2Vyc0NoYW5nZShibG9ja0lkLCB0b3RhbFZpZXdlcnMpO1xyXG4gICAgICBsYXN0UmVwb3J0ZWRWaWV3ZXJzLmN1cnJlbnQgPSB0b3RhbFZpZXdlcnM7XHJcbiAgICB9XHJcbiAgfSwgW3RvdGFsVmlld2VycywgYmxvY2tJZCwgb25Ub3RhbFZpZXdlcnNDaGFuZ2VdKTtcclxuXHJcbiAgLy8gQ2xlYW51cCBhbCBkZXNtb250YXIgeSBhbnRlcyBkZSBjZXJyYXIgbGEgdmVudGFuYVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVCZWZvcmVVbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgIGlmIChpbnRlcnZhbFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbFJlZi5jdXJyZW50KTtcclxuICAgICAgfVxyXG4gICAgICAvLyBHdWFyZGFyIGVzdGFkbyBmaW5hbCBhbnRlcyBkZSBjZXJyYXJcclxuICAgICAgY29uc3QgZmluYWxTdGF0ZSA9IHtcclxuICAgICAgICBzdGF0dXM6IHN0YXR1c1JlZi5jdXJyZW50LFxyXG4gICAgICAgIGN1cnJlbnRPcGVyYXRpb246IGN1cnJlbnRPcGVyYXRpb25SZWYuY3VycmVudCxcclxuICAgICAgICBzdGF0ZTogc3RhdGVSZWYuY3VycmVudCA9PT0gJ3J1bm5pbmcnID8gJ3BhdXNlZCcgOiBzdGF0ZVJlZi5jdXJyZW50LFxyXG4gICAgICAgIHRvdGFsVmlld2VyczogdG90YWxWaWV3ZXJzUmVmLmN1cnJlbnQsXHJcbiAgICAgICAgYmxvY2tEYXRhOiBibG9ja0RhdGFSZWYuY3VycmVudCxcclxuICAgICAgICBsYXN0U2F2ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9O1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgYmxvY2tTdGF0ZV8ke2Jsb2NrSWR9YCwgSlNPTi5zdHJpbmdpZnkoZmluYWxTdGF0ZSkpO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgaGFuZGxlQmVmb3JlVW5sb2FkKTtcclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKGludGVydmFsUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsUmVmLmN1cnJlbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBoYW5kbGVCZWZvcmVVbmxvYWQpO1xyXG4gICAgfTtcclxuICB9LCBbYmxvY2tJZF0pO1xyXG5cclxuICBjb25zdCBnZXRTZXJ2aWNlRHVyYXRpb24gPSAoc2VydmljZUlkOiBudW1iZXIpID0+IHtcclxuICAgIHN3aXRjaCAoc2VydmljZUlkKSB7XHJcbiAgICAgIGNhc2UgMzM2OiByZXR1cm4gMTIwO1xyXG4gICAgICBjYXNlIDMzNzogcmV0dXJuIDE1MDtcclxuICAgICAgY2FzZSAzMzQ6IHJldHVybiA2MDtcclxuICAgICAgY2FzZSAzMzU6IHJldHVybiA5MDtcclxuICAgICAgY2FzZSAzMzg6IHJldHVybiAxODA7XHJcbiAgICAgIGNhc2UgNDU5OiByZXR1cm4gMjQwO1xyXG4gICAgICBjYXNlIDQ2MDogcmV0dXJuIDM2MDtcclxuICAgICAgY2FzZSA2NTc6IHJldHVybiA0ODA7XHJcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAwO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdlbmVyYXRlRXhjZWwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAvLyBDcmVhciBlbCByZXN1bWVuIHBhcmEgZWwgRXhjZWxcclxuICAgIGNvbnN0IGN1cnJlbnRTdGF0dXMgPSBzdGF0dXNSZWYuY3VycmVudDtcclxuICAgIGNvbnN0IGN1cnJlbnRCbG9ja0RhdGEgPSBibG9ja0RhdGFSZWYuY3VycmVudDtcclxuICAgIFxyXG4gICAgY29uc3Qgc3VtbWFyeSA9IGN1cnJlbnRTdGF0dXMubWFwKChzdGF0dXNJdGVtKSA9PiAoe1xyXG4gICAgICAnRXN0YWRvJzogc3RhdHVzSXRlbS5zdGF0dXMsXHJcbiAgICAgICdNZW5zYWplJzogc3RhdHVzSXRlbS5tZXNzYWdlLFxyXG4gICAgICAnVGltZXN0YW1wJzogc3RhdHVzSXRlbS50aW1lc3RhbXAsXHJcbiAgICAgICdPcmRlciBJRCc6IHN0YXR1c0l0ZW0ub3JkZXJJZCxcclxuICAgICAgJ09yZGVyIFN0YXR1cyc6IHN0YXR1c0l0ZW0ub3JkZXJTdGF0dXMsXHJcbiAgICAgICdEdXJhY2nDs24gKG1pbnV0b3MpJzogc3RhdHVzSXRlbS5kdXJhdGlvbixcclxuICAgICAgJ0NhbnRpZGFkIGRlIFZpZXdlcnMnOiBzdGF0dXNJdGVtLmNvdW50LFxyXG4gICAgICAnQ29zdG8gZGUgbGEgT3BlcmFjacOzbic6IHN0YXR1c0l0ZW0uZGV0YWlscz8ucmVzPy5zdW0gfHwgMCxcclxuICAgICAgLi4uc3RhdHVzSXRlbS5kZXRhaWxzLFxyXG4gICAgfSkpO1xyXG5cclxuICAgIC8vIEdlbmVyYXIgaW50ZXJ2YWxvcyBkZSB0aWVtcG8gZGVzZGUgbGFzIDEwOjI1IEFNIGhhc3RhIGxhcyAyMzowMCBQTVxyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoXCIxOTcwLTAxLTAxVDEwOjI1OjAwWlwiKTtcclxuICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZShcIjE5NzAtMDEtMDFUMjM6MDA6MDBaXCIpO1xyXG4gICAgY29uc3QgdGltZUludGVydmFsczogeyBIb3JhOiBzdHJpbmc7IFtrZXk6IHN0cmluZ106IG51bWJlciB8IHN0cmluZyB9W10gPSBbXTtcclxuXHJcbiAgICBsZXQgY3VycmVudFRpbWUgPSBuZXcgRGF0ZShzdGFydFRpbWUpO1xyXG5cclxuICAgIHdoaWxlIChjdXJyZW50VGltZSA8PSBlbmRUaW1lKSB7XHJcbiAgICAgIHRpbWVJbnRlcnZhbHMucHVzaCh7IEhvcmE6IGN1cnJlbnRUaW1lLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDExLCA1KSB9KTtcclxuICAgICAgY3VycmVudFRpbWUgPSBuZXcgRGF0ZShjdXJyZW50VGltZS5nZXRUaW1lKCkgKyA2MDAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29zdFJvdzogeyBIb3JhOiBzdHJpbmc7IFtrZXk6IHN0cmluZ106IG51bWJlciB8IHN0cmluZyB9ID0geyBIb3JhOiAnQ29zdG8nIH07XHJcblxyXG4gICAgY3VycmVudFN0YXR1cy5mb3JFYWNoKChzdGF0dXNJdGVtKSA9PiB7XHJcbiAgICAgIGlmIChzdGF0dXNJdGVtLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIHN0YXR1c0l0ZW0uY291bnQgJiYgc3RhdHVzSXRlbS50aW1lc3RhbXApIHtcclxuICAgICAgICAvLyBJbnRlbnRhciBwYXJzZWFyIGVsIHRpbWVzdGFtcCBkZSBtYW5lcmEgbcOhcyByb2J1c3RhXHJcbiAgICAgICAgbGV0IHN0YXJ0VGltZVN0cmluZzogc3RyaW5nO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyBTaSBlbCB0aW1lc3RhbXAgZXN0w6EgZW4gZm9ybWF0byBISDpNTTpTUywgZXh0cmFlciBzb2xvIEhIOk1NXHJcbiAgICAgICAgICBjb25zdCB0aW1lTWF0Y2ggPSBzdGF0dXNJdGVtLnRpbWVzdGFtcC5tYXRjaCgvKFxcZHsxLDJ9KTooXFxkezJ9KTooXFxkezJ9KS8pO1xyXG4gICAgICAgICAgaWYgKHRpbWVNYXRjaCkge1xyXG4gICAgICAgICAgICBjb25zdCBob3VycyA9IHRpbWVNYXRjaFsxXS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgICAgICAgICBjb25zdCBtaW51dGVzID0gdGltZU1hdGNoWzJdO1xyXG4gICAgICAgICAgICBzdGFydFRpbWVTdHJpbmcgPSBgJHtob3Vyc306JHttaW51dGVzfWA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBTaSBubyBzZSBwdWVkZSBwYXJzZWFyLCB1c2FyIHVuIHZhbG9yIHBvciBkZWZlY3RvXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gc2UgcHVkbyBwYXJzZWFyIGVsIHRpbWVzdGFtcDonLCBzdGF0dXNJdGVtLnRpbWVzdGFtcCk7XHJcbiAgICAgICAgICAgIHN0YXJ0VGltZVN0cmluZyA9ICcxMDoyNSc7IC8vIFZhbG9yIHBvciBkZWZlY3RvXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNlYW5kbyB0aW1lc3RhbXA6Jywgc3RhdHVzSXRlbS50aW1lc3RhbXAsIGVycm9yKTtcclxuICAgICAgICAgIHN0YXJ0VGltZVN0cmluZyA9ICcxMDoyNSc7IC8vIFZhbG9yIHBvciBkZWZlY3RvXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gc3RhdHVzSXRlbS5kdXJhdGlvbiB8fCAwO1xyXG4gICAgICAgIGNvbnN0IG9yZGVySWRDb2x1bW4gPSBgT3BlcmFjacOzbiAke3N0YXR1c0l0ZW0ub3JkZXJJZH1gO1xyXG5cclxuICAgICAgICBpZiAoIShvcmRlcklkQ29sdW1uIGluIGNvc3RSb3cpKSB7XHJcbiAgICAgICAgICBjb3N0Um93W29yZGVySWRDb2x1bW5dID0gc3RhdHVzSXRlbS5kZXRhaWxzPy5yZXM/LnN1bSB8fCAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGltZUludGVydmFscy5mb3JFYWNoKChpbnRlcnZhbCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCEob3JkZXJJZENvbHVtbiBpbiBpbnRlcnZhbCkpIHtcclxuICAgICAgICAgICAgaW50ZXJ2YWxbb3JkZXJJZENvbHVtbl0gPSAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IHRpbWVJbnRlcnZhbHMuZmluZEluZGV4KChlbnRyeSkgPT4gZW50cnkuSG9yYSA9PT0gc3RhcnRUaW1lU3RyaW5nKTtcclxuXHJcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR1cmF0aW9uICYmIHN0YXJ0SW5kZXggKyBpIDwgdGltZUludGVydmFscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aW1lSW50ZXJ2YWxzW3N0YXJ0SW5kZXggKyBpXVtvcmRlcklkQ29sdW1uXSA9IHN0YXR1c0l0ZW0uY291bnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBhbGxSb3dzID0gW2Nvc3RSb3csIC4uLnRpbWVJbnRlcnZhbHNdO1xyXG5cclxuICAgIGNvbnN0IHdzU3VtbWFyeSA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChzdW1tYXJ5KTtcclxuICAgIGNvbnN0IHdzVmlld2VycyA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChhbGxSb3dzKTtcclxuXHJcbiAgICBjb25zdCB3YiA9IFhMU1gudXRpbHMuYm9va19uZXcoKTtcclxuICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod2IsIHdzU3VtbWFyeSwgJ1Jlc3VtZW4gZGUgT3BlcmFjaW9uZXMnKTtcclxuICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod2IsIHdzVmlld2VycywgJ1ZpZXdlcnMgcG9yIE1pbnV0bycpO1xyXG5cclxuICAgIFhMU1gud3JpdGVGaWxlKHdiLCBgJHtjdXJyZW50QmxvY2tEYXRhLnRpdGxlfS54bHN4YCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVBcGlDYWxsID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gVmVyaWZpY2FyIGNvbmRpY2lvbmVzIHVzYW5kbyByZWZzIHBhcmEgdmFsb3JlcyBhY3R1YWxlc1xyXG4gICAgaWYgKCFsaW5rIHx8IHN0YXRlUmVmLmN1cnJlbnQgIT09ICdydW5uaW5nJykge1xyXG4gICAgICBjb25zb2xlLmxvZyhgJHtibG9ja0RhdGFSZWYuY3VycmVudC50aXRsZX06IE5vIGVqZWN1dGFuZG8gQVBJIGNhbGwuIExpbms6ICR7bGlua30sIFN0YXRlOiAke3N0YXRlUmVmLmN1cnJlbnR9YCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjdXJyZW50QmxvY2tEYXRhID0gYmxvY2tEYXRhUmVmLmN1cnJlbnQ7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRPcE51bSA9IGN1cnJlbnRPcGVyYXRpb25SZWYuY3VycmVudDtcclxuICAgICAgY29uc3QgeyBjb3VudCwgZGVjcmVtZW50LCBzZXJ2aWNlSWQsIG9wZXJhdGlvblR5cGUgfSA9IGN1cnJlbnRCbG9ja0RhdGE7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDYWxjdWxhIGxhIGNhbnRpZGFkIHBhcmEgbGEgb3BlcmFjacOzbiBhY3R1YWxcclxuICAgICAgY29uc3Qgb3BlcmF0aW9uQ291bnQgPVxyXG4gICAgICAgIG9wZXJhdGlvblR5cGUgPT09ICdhZGQnXHJcbiAgICAgICAgICA/IGNvdW50ICsgKGRlY3JlbWVudCB8fCAwKSAqIGN1cnJlbnRPcE51bVxyXG4gICAgICAgICAgOiBjb3VudCAtIChkZWNyZW1lbnQgfHwgMCkgKiBjdXJyZW50T3BOdW07XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhgJHtjdXJyZW50QmxvY2tEYXRhLnRpdGxlfTogSW5pY2lhbmRvIG9wZXJhY2nDs24gJHtjdXJyZW50T3BOdW0gKyAxfSBjb24gJHtvcGVyYXRpb25Db3VudH0gdmlld2Vyc2ApO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9wcm94eT9zZXJ2aWNlX2lkPSR7c2VydmljZUlkfSZjb3VudD0ke29wZXJhdGlvbkNvdW50fSZsaW5rPSR7bGlua31gKTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEdlbmVyYXIgdGltZXN0YW1wIGVuIGZvcm1hdG8gY29uc2lzdGVudGUgSEg6TU06U1NcclxuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgY29uc3QgdGltZXN0YW1wID0gbm93LnRvVGltZVN0cmluZygpLnNwbGl0KCcgJylbMF07IC8vIEZvcm1hdG8gSEg6TU06U1NcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gZ2V0U2VydmljZUR1cmF0aW9uKHNlcnZpY2VJZCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDYWxjdWxhciBob3JhIGRlIGZpbmFsaXphY2nDs24gZXN0aW1hZGFcclxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gbm93LnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgIGNvbnN0IGVzdGltYXRlZEVuZFRpbWUgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgKGR1cmF0aW9uICogNjAgKiAxMDAwKSkudG9JU09TdHJpbmcoKTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGAke2N1cnJlbnRCbG9ja0RhdGEudGl0bGV9LCBPcGVyYXRpb24gJHtjdXJyZW50T3BOdW0gKyAxfTpgLCBkYXRhKTtcclxuXHJcbiAgICAgIGNvbnN0IG5ld1N0YXR1czogQmxvY2tTdGF0dXMgPSB7XHJcbiAgICAgICAgc3RhdHVzOiBkYXRhLmVycm9yID8gJ2Vycm9yJyA6ICdzdWNjZXNzJyxcclxuICAgICAgICBtZXNzYWdlOiBkYXRhLmVycm9yID8gJ0Vycm9yIGVuIGxhIG9wZXJhY2nDs24nIDogJ09wZXJhY2nDs24gZXhpdG9zYScsXHJcbiAgICAgICAgZGV0YWlsczogZGF0YSxcclxuICAgICAgICB0aW1lc3RhbXAsXHJcbiAgICAgICAgb3JkZXJJZDogZGF0YS5yZXM/Lm9yZGVyX2lkLFxyXG4gICAgICAgIGR1cmF0aW9uLFxyXG4gICAgICAgIGNvdW50OiBvcGVyYXRpb25Db3VudCxcclxuICAgICAgICBzZXJ2aWNlSWQsXHJcbiAgICAgICAgY29zdDogZGF0YS5yZXM/LnN1bSB8fCAwLFxyXG4gICAgICAgIHN0YXJ0VGltZSxcclxuICAgICAgICBlc3RpbWF0ZWRFbmRUaW1lLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgc2V0U3RhdHVzKHByZXYgPT4gWy4uLnByZXYsIG5ld1N0YXR1c10pO1xyXG4gICAgICBcclxuICAgICAgLy8gR3VhcmRhciBlbiBoaXN0b3JpYWwgZ2xvYmFsIGlubWVkaWF0YW1lbnRlXHJcbiAgICAgIHNhdmVUb0dsb2JhbEhpc3RvcnkobmV3U3RhdHVzKTtcclxuXHJcbiAgICAgIC8vIEFjdHVhbGl6YXIgZWwgdG90YWwgZGUgZXNwZWN0YWRvcmVzXHJcbiAgICAgIGlmIChuZXdTdGF0dXMuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcclxuICAgICAgICBzZXRUb3RhbFZpZXdlcnMoKHByZXY6IG51bWJlcikgPT4gcHJldiArIG9wZXJhdGlvbkNvdW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbmV4dE9wZXJhdGlvbiA9IGN1cnJlbnRPcE51bSArIDE7XHJcbiAgICAgIHNldEN1cnJlbnRPcGVyYXRpb24obmV4dE9wZXJhdGlvbik7XHJcblxyXG4gICAgICBpZiAobmV4dE9wZXJhdGlvbiA+PSBjdXJyZW50QmxvY2tEYXRhLnRvdGFsT3BlcmF0aW9ucykge1xyXG4gICAgICAgIGlmIChpbnRlcnZhbFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgICAgaW50ZXJ2YWxSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgICBzZXRJbnRlcnZhbElkKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRTdGF0ZSgnY29tcGxldGVkJyk7XHJcbiAgICAgICAgc3RhdGVSZWYuY3VycmVudCA9ICdjb21wbGV0ZWQnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE5vdGlmaWNhY2nDs24gZGUgYmxvcXVlIGNvbXBsZXRhZG9cclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ05vdGlmaWNhdGlvbicgaW4gd2luZG93ICYmIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpIHtcclxuICAgICAgICAgIG5ldyBOb3RpZmljYXRpb24oYPCfjokgJHtjdXJyZW50QmxvY2tEYXRhLnRpdGxlfSBDb21wbGV0YWRvYCwge1xyXG4gICAgICAgICAgICBib2R5OiBgRWwgYmxvcXVlIHNlIGhhIGNvbXBsZXRhZG8gZXhpdG9zYW1lbnRlIGNvbiAke3RvdGFsVmlld2Vyc1JlZi5jdXJyZW50fSB2aWV3ZXJzIHRvdGFsZXNgLFxyXG4gICAgICAgICAgICBpY29uOiAnL2Zhdmljb24uaWNvJ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEF1dG8tZ2VuZXJhciBFeGNlbCBhbCBjb21wbGV0YXJcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGdlbmVyYXRlRXhjZWwoKSwgMTAwMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGAke2Jsb2NrRGF0YVJlZi5jdXJyZW50LnRpdGxlfSwgT3BlcmF0aW9uICR7Y3VycmVudE9wZXJhdGlvblJlZi5jdXJyZW50ICsgMX06YCwgZXJyb3IpO1xyXG5cclxuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgY29uc3QgbmV3U3RhdHVzOiBCbG9ja1N0YXR1cyA9IHtcclxuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGVuIGxhIG9wZXJhY2nDs24nLFxyXG4gICAgICAgIGRldGFpbHM6IGVycm9yLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbm93LnRvVGltZVN0cmluZygpLnNwbGl0KCcgJylbMF0sIC8vIEZvcm1hdG8gY29uc2lzdGVudGUgSEg6TU06U1NcclxuICAgICAgICBkdXJhdGlvbjogMCxcclxuICAgICAgICBjb3N0OiAwLFxyXG4gICAgICAgIHN0YXJ0VGltZTogbm93LnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgZXN0aW1hdGVkRW5kVGltZTogbm93LnRvSVNPU3RyaW5nKCksIC8vIFNpbiBkdXJhY2nDs24gcGFyYSBlcnJvcmVzXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzZXRTdGF0dXMocHJldiA9PiBbLi4ucHJldiwgbmV3U3RhdHVzXSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBHdWFyZGFyIGVuIGhpc3RvcmlhbCBnbG9iYWwgaW5tZWRpYXRhbWVudGVcclxuICAgICAgc2F2ZVRvR2xvYmFsSGlzdG9yeShuZXdTdGF0dXMpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgbmV4dE9wZXJhdGlvbiA9IGN1cnJlbnRPcGVyYXRpb25SZWYuY3VycmVudCArIDE7XHJcbiAgICAgIHNldEN1cnJlbnRPcGVyYXRpb24obmV4dE9wZXJhdGlvbik7XHJcblxyXG4gICAgICBpZiAobmV4dE9wZXJhdGlvbiA+PSBibG9ja0RhdGFSZWYuY3VycmVudC50b3RhbE9wZXJhdGlvbnMpIHtcclxuICAgICAgICBpZiAoaW50ZXJ2YWxSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbFJlZi5jdXJyZW50KTtcclxuICAgICAgICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgc2V0SW50ZXJ2YWxJZChudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0U3RhdGUoJ2NvbXBsZXRlZCcpO1xyXG4gICAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSAnY29tcGxldGVkJztcclxuICAgICAgICBcclxuICAgICAgICAvLyBOb3RpZmljYWNpw7NuIGRlIGJsb3F1ZSBjb21wbGV0YWRvIChwYXJhIGNhc29zIGRlIGVycm9yIHRhbWJpw6luKVxyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAnTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cgJiYgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdncmFudGVkJykge1xyXG4gICAgICAgICAgbmV3IE5vdGlmaWNhdGlvbihg8J+PgSAke2Jsb2NrRGF0YVJlZi5jdXJyZW50LnRpdGxlfSBGaW5hbGl6YWRvYCwge1xyXG4gICAgICAgICAgICBib2R5OiBgRWwgYmxvcXVlIGhhIGZpbmFsaXphZG8gKGNvbiBlcnJvcmVzKSAtIFRvdGFsIHZpZXdlcnM6ICR7dG90YWxWaWV3ZXJzUmVmLmN1cnJlbnR9YCxcclxuICAgICAgICAgICAgaWNvbjogJy9mYXZpY29uLmljbydcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGdlbmVyYXRlRXhjZWwoKSwgMTAwMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbbGluaywgZ2VuZXJhdGVFeGNlbF0pO1xyXG5cclxuICBjb25zdCBzdGFydEJsb2NrID0gKCkgPT4ge1xyXG4gICAgaWYgKHN0YXRlID09PSAncnVubmluZycpIHJldHVybjtcclxuXHJcbiAgICBzZXRJc1BhdXNlZChmYWxzZSk7XHJcbiAgICBzZXRTdGF0ZSgncnVubmluZycpO1xyXG4gICAgXHJcbiAgICAvLyBBY3R1YWxpemFyIGVsIHJlZiBpbm1lZGlhdGFtZW50ZSBwYXJhIHF1ZSBoYW5kbGVBcGlDYWxsIGxvIGRldGVjdGVcclxuICAgIHN0YXRlUmVmLmN1cnJlbnQgPSAncnVubmluZyc7XHJcblxyXG4gICAgLy8gRW52aWFyIGxhIHByaW1lcmEgb3BlcmFjacOzbiBpbm1lZGlhdGFtZW50ZVxyXG4gICAgaGFuZGxlQXBpQ2FsbCgpO1xyXG5cclxuICAgIC8vIENvbmZpZ3VyYXIgZWwgaW50ZXJ2YWxvIHBhcmEgbGFzIHNpZ3VpZW50ZXMgb3BlcmFjaW9uZXMgdXNhbmRvIGVsIGludGVydmFsbyBwZXJzb25hbGl6YWRvXHJcbiAgICBjb25zdCBpbnRlcnZhbE1zID0gKGJsb2NrRGF0YVJlZi5jdXJyZW50LmludGVydmFsTWludXRlcyB8fCAyKSAqIDYwICogMTAwMDsgLy8gQ29udmVydGlyIG1pbnV0b3MgYSBtaWxsaXNlZ3VuZG9zXHJcbiAgICBjb25zdCBuZXdJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4gaGFuZGxlQXBpQ2FsbCgpLCBpbnRlcnZhbE1zKTtcclxuICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSBuZXdJbnRlcnZhbElkO1xyXG4gICAgc2V0SW50ZXJ2YWxJZChuZXdJbnRlcnZhbElkKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBwYXVzZUJsb2NrID0gKCkgPT4ge1xyXG4gICAgaWYgKGludGVydmFsUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbFJlZi5jdXJyZW50KTtcclxuICAgICAgaW50ZXJ2YWxSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIHNldEludGVydmFsSWQobnVsbCk7XHJcbiAgICAgIHNldElzUGF1c2VkKHRydWUpO1xyXG4gICAgICBzZXRTdGF0ZSgncGF1c2VkJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBY3R1YWxpemFyIGVsIHJlZiBpbm1lZGlhdGFtZW50ZVxyXG4gICAgICBzdGF0ZVJlZi5jdXJyZW50ID0gJ3BhdXNlZCc7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVzdW1lQmxvY2sgPSAoKSA9PiB7XHJcbiAgICBzZXRJc1BhdXNlZChmYWxzZSk7XHJcbiAgICBzZXRTdGF0ZSgncnVubmluZycpO1xyXG4gICAgXHJcbiAgICAvLyBBY3R1YWxpemFyIGVsIHJlZiBpbm1lZGlhdGFtZW50ZVxyXG4gICAgc3RhdGVSZWYuY3VycmVudCA9ICdydW5uaW5nJztcclxuXHJcbiAgICAvLyBMbGFtYXIgYSBsYSBBUEkgaW5tZWRpYXRhbWVudGUgZGVzcHXDqXMgZGUgcmVhbnVkYXJcclxuICAgIGhhbmRsZUFwaUNhbGwoKTtcclxuXHJcbiAgICAvLyBSZWluaWNpYXIgZWwgaW50ZXJ2YWxvIHVzYW5kbyBlbCBpbnRlcnZhbG8gcGVyc29uYWxpemFkb1xyXG4gICAgY29uc3QgaW50ZXJ2YWxNcyA9IChibG9ja0RhdGFSZWYuY3VycmVudC5pbnRlcnZhbE1pbnV0ZXMgfHwgMikgKiA2MCAqIDEwMDA7XHJcbiAgICBjb25zdCBuZXdJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoaGFuZGxlQXBpQ2FsbCwgaW50ZXJ2YWxNcyk7XHJcbiAgICBpbnRlcnZhbFJlZi5jdXJyZW50ID0gbmV3SW50ZXJ2YWxJZDtcclxuICAgIHNldEludGVydmFsSWQobmV3SW50ZXJ2YWxJZCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZmluYWxpemVCbG9jayA9ICgpID0+IHtcclxuICAgIGlmIChpbnRlcnZhbFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCk7XHJcbiAgICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICBzZXRJbnRlcnZhbElkKG51bGwpO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0YXRlICE9PSAnY29tcGxldGVkJykge1xyXG4gICAgICBzZXRTdGF0ZSgnY29tcGxldGVkJyk7XHJcbiAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSAnY29tcGxldGVkJztcclxuICAgICAgXHJcbiAgICAgIC8vIE5vdGlmaWNhY2nDs24gZGUgZmluYWxpemFjacOzbiBtYW51YWxcclxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICdOb3RpZmljYXRpb24nIGluIHdpbmRvdyAmJiBOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XHJcbiAgICAgICAgbmV3IE5vdGlmaWNhdGlvbihg8J+PgSAke2Jsb2NrRGF0YS50aXRsZX0gRmluYWxpemFkbyBNYW51YWxtZW50ZWAsIHtcclxuICAgICAgICAgIGJvZHk6IGBFbCBibG9xdWUgZnVlIGZpbmFsaXphZG8gbWFudWFsbWVudGUgY29uICR7dG90YWxWaWV3ZXJzfSB2aWV3ZXJzIHRvdGFsZXNgLFxyXG4gICAgICAgICAgaWNvbjogJy9mYXZpY29uLmljbydcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgZ2VuZXJhdGVFeGNlbCgpO1xyXG4gICAgfVxyXG4gICAgc2V0QmxvY2tEYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgYXV0b1N0YXJ0OiBmYWxzZSB9KSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVzZXRCbG9jayA9ICgpID0+IHtcclxuICAgIC8vIENPUlJJR0lETzogTm8gZ3VhcmRhbW9zIGxhcyBvcGVyYWNpb25lcyBudWV2YW1lbnRlIHBvcnF1ZSB5YSBmdWVyb24gZ3VhcmRhZGFzXHJcbiAgICAvLyBjdWFuZG8gc2UgZWplY3V0YXJvbiBvcmlnaW5hbG1lbnRlIGVuIGhhbmRsZUFwaUNhbGwgKGzDrW5lYXMgMzQxIHkgMzc3KVxyXG4gICAgXHJcbiAgICAvLyBSZWdpc3RyYXIgZWwgcmVzZXQgZGVsIGJsb3F1ZSBjb24gbGFzIG9wZXJhY2lvbmVzIHF1ZSBzZSB2YW4gYSBwZXJkZXJcclxuICAgIHNhdmVCbG9ja1Jlc2V0KCk7XHJcbiAgICBcclxuICAgIGlmIChpbnRlcnZhbFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCk7XHJcbiAgICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICBzZXRJbnRlcnZhbElkKG51bGwpO1xyXG4gICAgfVxyXG4gICAgc2V0U3RhdHVzKFtdKTtcclxuICAgIHNldElzUGF1c2VkKGZhbHNlKTtcclxuICAgIHNldEN1cnJlbnRPcGVyYXRpb24oMCk7XHJcbiAgICBzZXRTdGF0ZSgnaWRsZScpO1xyXG4gICAgc3RhdGVSZWYuY3VycmVudCA9ICdpZGxlJztcclxuICAgIHNldFRvdGFsVmlld2VycygwKTtcclxuICAgIHNldEJsb2NrRGF0YShwcmV2ID0+ICh7IC4uLnByZXYsIGF1dG9TdGFydDogZmFsc2UsIHN0YXJ0VGltZTogJycgfSkpO1xyXG4gICAgXHJcbiAgICAvLyBMaW1waWFyIGVzdGFkbyBndWFyZGFkbyBkZWwgbG9jYWxTdG9yYWdlXHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgYmxvY2tTdGF0ZV8ke2Jsb2NrSWR9YCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRWRpdE1vZGFsID0gKCkgPT4ge1xyXG4gICAgb25TaG93RWRpdE1vZGFsKGJsb2NrSWQsIGJsb2NrRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gRnVuY2nDs24gcGFyYSBhY3R1YWxpemFyIGJsb2NrRGF0YSBkZXNkZSBlbCBjb21wb25lbnRlIHBhZHJlXHJcbiAgY29uc3QgdXBkYXRlQmxvY2tEYXRhID0gKG5ld0RhdGE6IEJsb2NrRGF0YSkgPT4ge1xyXG4gICAgc2V0QmxvY2tEYXRhKG5ld0RhdGEpO1xyXG4gIH07XHJcblxyXG4gIC8vIEV4cG9uZXIgZnVuY2lvbmVzIGFsIGNvbXBvbmVudGUgcGFkcmUgbWVkaWFudGUgZWZlY3Rvc1xyXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAod2luZG93IGFzIGFueSlbYHVwZGF0ZUJsb2NrRGF0YV8ke2Jsb2NrSWR9YF0gPSB1cGRhdGVCbG9ja0RhdGE7XHJcbiAgICAod2luZG93IGFzIGFueSlbYGZpbmFsaXplQmxvY2tfJHtibG9ja0lkfWBdID0gZmluYWxpemVCbG9jaztcclxuICAgICh3aW5kb3cgYXMgYW55KVtgcmVzZXRCbG9ja18ke2Jsb2NrSWR9YF0gPSByZXNldEJsb2NrO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZGVsZXRlICh3aW5kb3cgYXMgYW55KVtgdXBkYXRlQmxvY2tEYXRhXyR7YmxvY2tJZH1gXTtcclxuICAgICAgZGVsZXRlICh3aW5kb3cgYXMgYW55KVtgZmluYWxpemVCbG9ja18ke2Jsb2NrSWR9YF07XHJcbiAgICAgIGRlbGV0ZSAod2luZG93IGFzIGFueSlbYHJlc2V0QmxvY2tfJHtibG9ja0lkfWBdO1xyXG4gICAgfTtcclxuICB9LCBbYmxvY2tJZF0pO1xyXG5cclxuICAvLyBGdW5jacOzbiBwYXJhIGd1YXJkYXIgb3BlcmFjacOzbiBlbiBoaXN0b3JpYWwgcGVybWFuZW50ZVxyXG4gIGNvbnN0IHNhdmVUb0dsb2JhbEhpc3RvcnkgPSB1c2VDYWxsYmFjaygob3BlcmF0aW9uOiBCbG9ja1N0YXR1cykgPT4ge1xyXG4gICAgY29uc3QgZ2xvYmFsSGlzdG9yeUtleSA9ICdnbG9iYWxPcGVyYXRpb25zSGlzdG9yeSc7XHJcbiAgICBjb25zdCBleGlzdGluZ0hpc3RvcnkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShnbG9iYWxIaXN0b3J5S2V5KTtcclxuICAgIGxldCBoaXN0b3J5ID0gW107XHJcbiAgICBcclxuICAgIGlmIChleGlzdGluZ0hpc3RvcnkpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBoaXN0b3J5ID0gSlNPTi5wYXJzZShleGlzdGluZ0hpc3RvcnkpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgZ2xvYmFsIGhpc3Rvcnk6JywgZXJyb3IpO1xyXG4gICAgICAgIGhpc3RvcnkgPSBbXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBoaXN0b3JpY2FsT3BlcmF0aW9uID0ge1xyXG4gICAgICAuLi5vcGVyYXRpb24sXHJcbiAgICAgIGJsb2NrSWQsXHJcbiAgICAgIGJsb2NrVGl0bGU6IGJsb2NrRGF0YS50aXRsZSxcclxuICAgICAgc2F2ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBoaXN0b3J5LnB1c2goaGlzdG9yaWNhbE9wZXJhdGlvbik7XHJcbiAgICBcclxuICAgIC8vIE1hbnRlbmVyIHNvbG8gbGFzIMO6bHRpbWFzIDEwMDAgb3BlcmFjaW9uZXMgcGFyYSBldml0YXIgcHJvYmxlbWFzIGRlIG1lbW9yaWFcclxuICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA+IDEwMDApIHtcclxuICAgICAgaGlzdG9yeSA9IGhpc3Rvcnkuc2xpY2UoLTEwMDApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShnbG9iYWxIaXN0b3J5S2V5LCBKU09OLnN0cmluZ2lmeShoaXN0b3J5KSk7XHJcbiAgfSwgW2Jsb2NrSWQsIGJsb2NrRGF0YS50aXRsZV0pO1xyXG5cclxuICAvLyBGdW5jacOzbiBwYXJhIHJlZ2lzdHJhciByZXNldCBkZWwgYmxvcXVlXHJcbiAgY29uc3Qgc2F2ZUJsb2NrUmVzZXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCByZXNldEhpc3RvcnlLZXkgPSAnYmxvY2tSZXNldEhpc3RvcnknO1xyXG4gICAgY29uc3QgZXhpc3RpbmdSZXNldHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShyZXNldEhpc3RvcnlLZXkpO1xyXG4gICAgbGV0IHJlc2V0cyA9IFtdO1xyXG4gICAgXHJcbiAgICBpZiAoZXhpc3RpbmdSZXNldHMpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICByZXNldHMgPSBKU09OLnBhcnNlKGV4aXN0aW5nUmVzZXRzKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHJlc2V0IGhpc3Rvcnk6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlc2V0cyA9IFtdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHJlc2V0UmVjb3JkID0ge1xyXG4gICAgICBibG9ja0lkLFxyXG4gICAgICBibG9ja1RpdGxlOiBibG9ja0RhdGEudGl0bGUsXHJcbiAgICAgIHJlc2V0QXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgb3BlcmF0aW9uc0xvc3Q6IHN0YXR1cy5sZW5ndGgsXHJcbiAgICAgIHZpZXdlcnNMb3N0OiB0b3RhbFZpZXdlcnNcclxuICAgIH07XHJcbiAgICBcclxuICAgIHJlc2V0cy5wdXNoKHJlc2V0UmVjb3JkKTtcclxuICAgIFxyXG4gICAgLy8gTWFudGVuZXIgc29sbyBsb3Mgw7psdGltb3MgMTAwIHJlc2V0c1xyXG4gICAgaWYgKHJlc2V0cy5sZW5ndGggPiAxMDApIHtcclxuICAgICAgcmVzZXRzID0gcmVzZXRzLnNsaWNlKC0xMDApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShyZXNldEhpc3RvcnlLZXksIEpTT04uc3RyaW5naWZ5KHJlc2V0cykpO1xyXG4gIH0sIFtibG9ja0lkLCBibG9ja0RhdGEudGl0bGUsIHN0YXR1cy5sZW5ndGgsIHRvdGFsVmlld2Vyc10pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e2BibG9jayAke3RoZW1lfWB9PlxyXG4gICAgICA8aDIgY2xhc3NOYW1lPVwiYmxvY2stdGl0bGVcIj57YmxvY2tEYXRhLnRpdGxlfTwvaDI+XHJcbiAgICAgIFxyXG4gICAgICB7YmxvY2tEYXRhLmF1dG9TdGFydCAmJiBibG9ja0RhdGEuc3RhcnRUaW1lICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF1dG8tc3RhcnQtaW5mb1wiPlxyXG4gICAgICAgICAg4o+wIEluaWNpbyBhdXRvbcOhdGljbzoge2Jsb2NrRGF0YS5zdGFydFRpbWV9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7KHN0YXRlID09PSAncGF1c2VkJyB8fCBzdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpICYmIChcclxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2dlbmVyYXRlRXhjZWx9IGNsYXNzTmFtZT1cImRvd25sb2FkLWljb25cIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tZG93bmxvYWRcIj48L3NwYW4+XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0YXR1c1wiPlxyXG4gICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiBibG9ja0RhdGEudG90YWxPcGVyYXRpb25zIH0pLm1hcCgoXywgc3RhdHVzSW5kZXgpID0+IChcclxuICAgICAgICAgIDxkaXYga2V5PXtzdGF0dXNJbmRleH0gY2xhc3NOYW1lPVwic3RhdHVzLWl0ZW1cIj5cclxuICAgICAgICAgICAge2BPcGVyYWNpw7NuICR7c3RhdHVzSW5kZXggKyAxfTogYH1cclxuICAgICAgICAgICAge3N0YXR1c1tzdGF0dXNJbmRleF0gPyAoXHJcbiAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgIHtzdGF0dXNbc3RhdHVzSW5kZXhdLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnID8gKFxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtc3VjY2Vzc1wiPuKchTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1lcnJvclwiPuKdjDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aW1lc3RhbXBcIj57c3RhdHVzW3N0YXR1c0luZGV4XS50aW1lc3RhbXB9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAge3N0YXR1c1tzdGF0dXNJbmRleF0ub3JkZXJTdGF0dXMgJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJvcmRlci1zdGF0dXNcIj57c3RhdHVzW3N0YXR1c0luZGV4XS5vcmRlclN0YXR1c308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1wZW5kaW5nXCI+4o+zPC9zcGFuPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJibG9jay1jb250cm9sc1wiPlxyXG4gICAgICAgIHtzdGF0ZSA9PT0gJ2lkbGUnICYmIChcclxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17c3RhcnRCbG9ja30gY2xhc3NOYW1lPVwic3RhcnQtYnV0dG9uXCI+XHJcbiAgICAgICAgICAgIOKWtu+4jyBJbmljaWFyXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHtzdGF0ZSA9PT0gJ3J1bm5pbmcnICYmIChcclxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17cGF1c2VCbG9ja30gY2xhc3NOYW1lPVwicGF1c2UtYnV0dG9uXCI+XHJcbiAgICAgICAgICAgIOKPuO+4jyBQYXVzYXJcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICl9XHJcbiAgICAgICAgXHJcbiAgICAgICAge3N0YXRlID09PSAncGF1c2VkJyAmJiAoXHJcbiAgICAgICAgICA8PlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3Jlc3VtZUJsb2NrfSBjbGFzc05hbWU9XCJyZXN1bWUtYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAg4pa277iPIFJlYW51ZGFyXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uU2hvd1dhcm5pbmcoYmxvY2tJZCwgJ2ZpbmFsaXphcicpfSBjbGFzc05hbWU9XCJmaW5hbGl6ZS1idXR0b25cIj5cclxuICAgICAgICAgICAgICDwn4+BIEZpbmFsaXphclxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBvblNob3dXYXJuaW5nKGJsb2NrSWQsICdyZWluaWNpYXInKX0gY2xhc3NOYW1lPVwicmVzZXQtYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAg8J+UhCBSZWluaWNpYXJcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8Lz5cclxuICAgICAgICApfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHtzdGF0ZSA9PT0gJ2NvbXBsZXRlZCcgJiYgKFxyXG4gICAgICAgICAgPD5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb21wbGV0ZWQtbWVzc2FnZVwiPuKchSBCbG9xdWUgZmluYWxpemFkbzwvZGl2PlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uU2hvd1dhcm5pbmcoYmxvY2tJZCwgJ3JlaW5pY2lhcicpfSBjbGFzc05hbWU9XCJyZXNldC1idXR0b25cIj5cclxuICAgICAgICAgICAgICDwn5SEIFJlaW5pY2lhclxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvPlxyXG4gICAgICAgICl9XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVFZGl0TW9kYWx9IGNsYXNzTmFtZT1cImVkaXQtYnV0dG9uXCI+XHJcbiAgICAgICAgICDinI/vuI8gRWRpdGFyXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3RhbC12aWV3ZXJzXCI+8J+RpSB7dG90YWxWaWV3ZXJzfTwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJsb2NrO1xyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwidXNlVGhlbWUiLCJYTFNYIiwiQmxvY2siLCJpbml0aWFsRGF0YSIsImxpbmsiLCJvblRvdGFsVmlld2Vyc0NoYW5nZSIsImJsb2NrSWQiLCJvblNob3dXYXJuaW5nIiwib25TaG93RWRpdE1vZGFsIiwidGhlbWUiLCJsb2FkQmxvY2tTdGF0ZSIsInNhdmVkU3RhdGUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwibGFzdFNhdmVkIiwibGFzdFNhdmVkRGF0ZSIsIkRhdGUiLCJub3ciLCJkYXlzRGlmZiIsImdldFRpbWUiLCJyZW1vdmVJdGVtIiwiZXJyb3IiLCJjb25zb2xlIiwic3RhdHVzIiwic2V0U3RhdHVzIiwiaW50ZXJ2YWxJZCIsInNldEludGVydmFsSWQiLCJpc1BhdXNlZCIsInNldElzUGF1c2VkIiwiY3VycmVudE9wZXJhdGlvbiIsInNldEN1cnJlbnRPcGVyYXRpb24iLCJzdGF0ZSIsInNldFN0YXRlIiwic2F2ZWRTdGF0ZVZhbHVlIiwidG90YWxWaWV3ZXJzIiwic2V0VG90YWxWaWV3ZXJzIiwiYmxvY2tEYXRhIiwic2V0QmxvY2tEYXRhIiwiZGF0YSIsImludGVydmFsTWludXRlcyIsInNhdmVCbG9ja1N0YXRlIiwic3RhdGVUb1NhdmUiLCJ0b0lTT1N0cmluZyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJpbnRlcnZhbFJlZiIsImxhc3RSZXBvcnRlZFZpZXdlcnMiLCJzdGF0ZVJlZiIsImN1cnJlbnRPcGVyYXRpb25SZWYiLCJibG9ja0RhdGFSZWYiLCJzdGF0dXNSZWYiLCJ0b3RhbFZpZXdlcnNSZWYiLCJjdXJyZW50IiwiYXV0b1N0YXJ0Iiwic3RhcnRUaW1lIiwiaG91cnMiLCJtaW51dGVzIiwic3BsaXQiLCJtYXAiLCJOdW1iZXIiLCJzdGFydCIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZGVsYXkiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0Iiwic3RhcnRCbG9jayIsImNsZWFyVGltZW91dCIsImhhbmRsZUJlZm9yZVVubG9hZCIsImNsZWFySW50ZXJ2YWwiLCJmaW5hbFN0YXRlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJnZXRTZXJ2aWNlRHVyYXRpb24iLCJzZXJ2aWNlSWQiLCJnZW5lcmF0ZUV4Y2VsIiwiY3VycmVudFN0YXR1cyIsImN1cnJlbnRCbG9ja0RhdGEiLCJzdW1tYXJ5Iiwic3RhdHVzSXRlbSIsIm1lc3NhZ2UiLCJ0aW1lc3RhbXAiLCJvcmRlcklkIiwib3JkZXJTdGF0dXMiLCJkdXJhdGlvbiIsImNvdW50IiwiZGV0YWlscyIsInJlcyIsInN1bSIsImVuZFRpbWUiLCJ0aW1lSW50ZXJ2YWxzIiwiY3VycmVudFRpbWUiLCJwdXNoIiwiSG9yYSIsInN1YnN0ciIsImNvc3RSb3ciLCJmb3JFYWNoIiwic3RhcnRUaW1lU3RyaW5nIiwidGltZU1hdGNoIiwibWF0Y2giLCJwYWRTdGFydCIsIndhcm4iLCJvcmRlcklkQ29sdW1uIiwiaW50ZXJ2YWwiLCJzdGFydEluZGV4IiwiZmluZEluZGV4IiwiZW50cnkiLCJpIiwibGVuZ3RoIiwiYWxsUm93cyIsIndzU3VtbWFyeSIsInV0aWxzIiwianNvbl90b19zaGVldCIsIndzVmlld2VycyIsIndiIiwiYm9va19uZXciLCJib29rX2FwcGVuZF9zaGVldCIsIndyaXRlRmlsZSIsInRpdGxlIiwiaGFuZGxlQXBpQ2FsbCIsImxvZyIsImN1cnJlbnRPcE51bSIsImRlY3JlbWVudCIsIm9wZXJhdGlvblR5cGUiLCJvcGVyYXRpb25Db3VudCIsInJlc3BvbnNlIiwiZmV0Y2giLCJqc29uIiwidG9UaW1lU3RyaW5nIiwiZXN0aW1hdGVkRW5kVGltZSIsIm5ld1N0YXR1cyIsIm9yZGVyX2lkIiwiY29zdCIsInByZXYiLCJzYXZlVG9HbG9iYWxIaXN0b3J5IiwibmV4dE9wZXJhdGlvbiIsInRvdGFsT3BlcmF0aW9ucyIsIk5vdGlmaWNhdGlvbiIsInBlcm1pc3Npb24iLCJib2R5IiwiaWNvbiIsImludGVydmFsTXMiLCJuZXdJbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJwYXVzZUJsb2NrIiwicmVzdW1lQmxvY2siLCJmaW5hbGl6ZUJsb2NrIiwicmVzZXRCbG9jayIsInNhdmVCbG9ja1Jlc2V0IiwiaGFuZGxlRWRpdE1vZGFsIiwidXBkYXRlQmxvY2tEYXRhIiwibmV3RGF0YSIsIm9wZXJhdGlvbiIsImdsb2JhbEhpc3RvcnlLZXkiLCJleGlzdGluZ0hpc3RvcnkiLCJoaXN0b3J5IiwiaGlzdG9yaWNhbE9wZXJhdGlvbiIsImJsb2NrVGl0bGUiLCJzYXZlZEF0Iiwic2xpY2UiLCJyZXNldEhpc3RvcnlLZXkiLCJleGlzdGluZ1Jlc2V0cyIsInJlc2V0cyIsInJlc2V0UmVjb3JkIiwicmVzZXRBdCIsIm9wZXJhdGlvbnNMb3N0Iiwidmlld2Vyc0xvc3QiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzcGFuIiwiQXJyYXkiLCJmcm9tIiwiXyIsInN0YXR1c0luZGV4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/components/Block.tsx\n"));

/***/ })

});