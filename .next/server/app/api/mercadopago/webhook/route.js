"use strict";(()=>{var e={};e.id=639,e.ids=[639],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},68621:e=>{e.exports=require("punycode")},76162:e=>{e.exports=require("stream")},17360:e=>{e.exports=require("url")},71568:e=>{e.exports=require("zlib")},61939:(e,r,o)=>{o.r(r),o.d(r,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>x,staticGenerationAsyncStorage:()=>m});var t={};o.r(t),o.d(t,{POST:()=>c});var a=o(49303),s=o(88716),i=o(60670),n=o(87070),p=o(36994);let u=new p.f7({accessToken:process.env.MERCADOPAGO_ACCESS_TOKEN});async function c(e){try{let r=await e.json();if("payment"===r.type){let e=r.data.id,o=new p.F6(u),t=await o.get({id:e});console.log("ServiceDG - Payment notification:",{id:t.id,status:t.status,external_reference:t.external_reference,amount:t.transaction_amount,email:t.payer?.email}),"approved"===t.status&&console.log("âœ… ServiceDG - Pago aprobado:",t.id)}return n.NextResponse.json({received:!0})}catch(e){return console.error("Webhook error:",e),n.NextResponse.json({error:"Error processing webhook"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/mercadopago/webhook/route",pathname:"/api/mercadopago/webhook",filename:"route",bundlePath:"app/api/mercadopago/webhook/route"},resolvedPagePath:"C:\\Users\\German\\Desktop\\Dashboard Viewers- LaCasa\\youtube-viewers-lacasa\\src\\app\\api\\mercadopago\\webhook\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:x}=d,h="/api/mercadopago/webhook/route";function g(){return(0,i.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:m})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[948,972,994],()=>o(61939));module.exports=t})();