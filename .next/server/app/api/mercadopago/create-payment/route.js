"use strict";(()=>{var e={};e.id=635,e.ids=[635],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},59796:e=>{e.exports=require("zlib")},82290:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>v,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>x,staticGenerationAsyncStorage:()=>m});var o={};t.r(o),t.d(o,{POST:()=>c});var a=t(49303),s=t(88716),n=t(60670),i=t(87070),p=t(36994);let u=new p.f7({accessToken:process.env.MERCADOPAGO_ACCESS_TOKEN});async function c(e){try{let{amount:r,description:t}=await e.json();if(!r||r<=0)return i.NextResponse.json({error:"Monto inv\xe1lido"},{status:400});let o=new p.Jk(u),a={items:[{id:`item-${Date.now()}`,title:t||"ServicioAnalisisDatos",unit_price:r,quantity:1}],back_urls:{success:`${process.env.NEXTAUTH_URL}/pago/success`,failure:`${process.env.NEXTAUTH_URL}/pago/failure`,pending:`${process.env.NEXTAUTH_URL}/pago/pending`},auto_return:"approved",notification_url:`${process.env.NEXTAUTH_URL}/api/mercadopago/webhook`,statement_descriptor:"SERVICEDG",external_reference:`servicedg-${Date.now()}`},s=await o.create({body:a});return i.NextResponse.json({id:s.id,init_point:s.init_point,sandbox_init_point:s.sandbox_init_point})}catch(e){return console.error("Error creating payment:",e),i.NextResponse.json({error:"Error interno del servidor"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/mercadopago/create-payment/route",pathname:"/api/mercadopago/create-payment",filename:"route",bundlePath:"app/api/mercadopago/create-payment/route"},resolvedPagePath:"C:\\Users\\German\\Desktop\\Dashboard Viewers- LaCasa\\youtube-viewers-lacasa\\src\\app\\api\\mercadopago\\create-payment\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:x}=d,g="/api/mercadopago/create-payment/route";function v(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:m})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[948,972,994],()=>t(82290));module.exports=o})();